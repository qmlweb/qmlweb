!function(global){function DEFNODE(t,e,n,i){arguments.length<4&&(i=AST_Node),e=e?e.split(/\s+/):[];var r=e;i&&i.PROPS&&(e=e.concat(i.PROPS));for(var o="return function AST_"+t+"(props){ if (props) { ",s=e.length;--s>=0;)o+="this."+e[s]+" = props."+e[s]+";";var u=i&&new i;(u&&u.initialize||n&&n.initialize)&&(o+="this.initialize();"),o+="}}";var a=new Function(o)();if(u&&(a.prototype=u,a.BASE=i),i&&i.SUBCLASSES.push(a),a.prototype.CTOR=a,a.PROPS=e||null,a.SELF_PROPS=r,a.SUBCLASSES=[],t&&(a.prototype.TYPE=a.TYPE=t),n)for(s in n)n.hasOwnProperty(s)&&(/^\$/.test(s)?a[s.substr(1)]=n[s]:a.prototype[s]=n[s]);return a.DEFMETHOD=function(t,e){this.prototype[t]=e},a}function walk_body(t,e){t.body instanceof AST_Statement?t.body._walk(e):t.body.forEach(function(t){t._walk(e)})}function TreeWalker(t){this.visit=t,this.stack=[]}function is_letter(t){return t>=97&&122>=t||t>=65&&90>=t||t>=170&&UNICODE.letter.test(String.fromCharCode(t))}function is_digit(t){return t>=48&&57>=t}function is_alphanumeric_char(t){return is_digit(t)||is_letter(t)}function is_unicode_digit(t){return UNICODE.digit.test(String.fromCharCode(t))}function is_unicode_combining_mark(t){return UNICODE.non_spacing_mark.test(t)||UNICODE.space_combining_mark.test(t)}function is_unicode_connector_punctuation(t){return UNICODE.connector_punctuation.test(t)}function is_identifier(t){return!RESERVED_WORDS(t)&&/^[a-z_$][a-z0-9_$]*$/i.test(t)}function is_identifier_start(t){return 36==t||95==t||is_letter(t)}function is_identifier_char(t){var e=t.charCodeAt(0);return is_identifier_start(e)||is_digit(e)||8204==e||8205==e||is_unicode_combining_mark(t)||is_unicode_connector_punctuation(t)||is_unicode_digit(e)}function is_identifier_string(t){return/^[a-z_$][a-z0-9_$]*$/i.test(t)}function parse_js_number(t){return RE_HEX_NUMBER.test(t)?parseInt(t.substr(2),16):RE_OCT_NUMBER.test(t)?parseInt(t.substr(1),8):RE_DEC_NUMBER.test(t)?parseFloat(t):void 0}function JS_Parse_Error(t,e,n,i,r){this.message=t,this.filename=e,this.line=n,this.col=i,this.pos=r,this.stack=(new Error).stack}function js_error(t,e,n,i,r){throw new JS_Parse_Error(t,e,n,i,r)}function is_token(t,e,n){return t.type==e&&(null==n||t.value==n)}function tokenizer(t,e,n){function i(){return E.text.charAt(E.pos)}function r(t,e){var n=E.text.charAt(E.pos++);if(t&&!n)throw EX_EOF;return"\r\n\u2028\u2029".indexOf(n)>=0?(E.newline_before=E.newline_before||!e,++E.line,E.col=0,e||"\r"!=n||"\n"!=i()||(++E.pos,n="\n")):++E.col,n}function o(t){for(;t-->0;)r()}function s(t){return E.text.substr(E.pos,t.length)==t}function u(t,e){var n=E.text.indexOf(t,E.pos);if(e&&-1==n)throw EX_EOF;return n}function a(){E.tokline=E.line,E.tokcol=E.col,E.tokpos=E.pos}function c(t,n,i){E.regex_allowed="operator"==t&&!UNARY_POSTFIX(n)||"keyword"==t&&KEYWORDS_BEFORE_EXPRESSION(n)||"punc"==t&&PUNC_BEFORE_EXPRESSION(n),w="punc"==t&&"."==n;var r={type:t,value:n,line:E.tokline,col:E.tokcol,pos:E.tokpos,endline:E.line,endcol:E.col,endpos:E.pos,nlb:E.newline_before,file:e};if(!i){r.comments_before=E.comments_before,E.comments_before=[];for(var o=0,s=r.comments_before.length;s>o;o++)r.nlb=r.nlb||r.comments_before[o].nlb}return E.newline_before=!1,new AST_Token(r)}function l(){for(var t;WHITESPACE_CHARS(t=i())||"\u2028"==t||"\u2029"==t;)r()}function h(t){for(var e,n="",o=0;(e=i())&&t(e,o++);)n+=r();return n}function p(t){js_error(t,e,E.tokline,E.tokcol,E.tokpos)}function d(t){var e=!1,n=!1,i=!1,r="."==t,o=h(function(o,s){var u=o.charCodeAt(0);switch(u){case 120:case 88:return i?!1:i=!0;case 101:case 69:return i?!0:e?!1:e=n=!0;case 45:return n||0==s&&!t;case 43:return n;case n=!1,46:return r||i||e?!1:r=!0}return is_alphanumeric_char(u)});t&&(o=t+o);var s=parse_js_number(o);return isNaN(s)?void p("Invalid syntax: "+o):c("num",s)}function f(t){var e=r(!0,t);switch(e.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"	";case 98:return"\b";case 118:return"";case 102:return"\f";case 48:return"\x00";case 120:return String.fromCharCode(m(2));case 117:return String.fromCharCode(m(4));case 10:return"";case 13:if("\n"==i())return r(!0,t),""}return e}function m(t){for(var e=0;t>0;--t){var n=parseInt(r(!0),16);isNaN(n)&&p("Invalid hex-character pattern in string"),e=e<<4|n}return e}function g(t){var e,n=E.regex_allowed,i=u("\n");return-1==i?(e=E.text.substr(E.pos),E.pos=E.text.length):(e=E.text.substring(E.pos,i),E.pos=i),E.col=E.tokcol+(E.pos-E.tokpos),E.comments_before.push(c(t,e,!0)),E.regex_allowed=n,C()}function y(){for(var t,e,n=!1,o="",s=!1;null!=(t=i());)if(n)"u"!=t&&p("Expecting UnicodeEscapeSequence -- uXXXX"),t=f(),is_identifier_char(t)||p("Unicode char: "+t.charCodeAt(0)+" is not valid in identifier"),o+=t,n=!1;else if("\\"==t)s=n=!0,r();else{if(!is_identifier_char(t))break;o+=r()}return KEYWORDS(o)&&s&&(e=o.charCodeAt(0).toString(16).toUpperCase(),o="\\u"+"0000".substr(e.length)+e+o.slice(1)),o}function A(t){function e(t){if(!i())return t;var n=t+i();return OPERATORS(n)?(r(),e(n)):t}return c("operator",e(t||r()))}function v(){switch(r(),i()){case"/":return r(),g("comment1");case"*":return r(),F()}return E.regex_allowed?B(""):A("/")}function _(){return r(),is_digit(i().charCodeAt(0))?d("."):c("punc",".")}function b(){var t=y();return w?c("name",t):KEYWORDS_ATOM(t)?c("atom",t):KEYWORDS(t)?OPERATORS(t)?c("operator",t):c("keyword",t):c("name",t)}function S(t,e){return function(n){try{return e(n)}catch(i){if(i!==EX_EOF)throw i;p(t)}}}function C(t){if(null!=t)return B(t);if(l(),a(),n){if(s("<!--"))return o(4),g("comment3");if(s("-->")&&E.newline_before)return o(3),g("comment4")}var e=i();if(!e)return c("eof");var u=e.charCodeAt(0);switch(u){case 34:case 39:return D(e);case 46:return _();case 47:return v()}return is_digit(u)?d():PUNC_CHARS(e)?c("punc",r()):OPERATOR_CHARS(e)?A():92==u||is_identifier_start(u)?b():void p("Unexpected character '"+e+"'")}var E={text:t,filename:e,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[]},w=!1,D=S("Unterminated string constant",function(t){for(var e=r(),n="";;){var i=r(!0,!0);if("\\"==i){var o=0,s=null;i=h(function(t){if(t>="0"&&"7">=t){if(!s)return s=t,++o;if("3">=s&&2>=o)return++o;if(s>="4"&&1>=o)return++o}return!1}),i=o>0?String.fromCharCode(parseInt(i,8)):f(!0)}else if(i==e)break;n+=i}var u=c("string",n);return u.quote=t,u}),F=S("Unterminated multiline comment",function(){var t=E.regex_allowed,e=u("*/",!0),n=E.text.substring(E.pos,e),i=n.split("\n"),r=i.length;E.pos=e+2,E.line+=r-1,r>1?E.col=i[r-1].length:E.col+=i[r-1].length,E.col+=2;var o=E.newline_before=E.newline_before||n.indexOf("\n")>=0;return E.comments_before.push(c("comment2",n,!0)),E.regex_allowed=t,E.newline_before=o,C()}),B=S("Unterminated regular expression",function(t){for(var e,n=!1,i=!1;e=r(!0);)if(n)t+="\\"+e,n=!1;else if("["==e)i=!0,t+=e;else if("]"==e&&i)i=!1,t+=e;else{if("/"==e&&!i)break;"\\"==e?n=!0:t+=e}var o=y();return c("regexp",new RegExp(t,o))});return C.context=function(t){return t&&(E=t),E},C}function parse(t,e){function n(t,e){return is_token(K.token,t,e)}function i(){return K.peeked||(K.peeked=K.input())}function r(){return K.prev=K.token,K.peeked?(K.token=K.peeked,K.peeked=null):K.token=K.input(),K.in_directives=K.in_directives&&("string"==K.token.type||n("punc",";")),K.token}function o(){return K.prev}function s(t,e,n,i){var r=K.input.context();js_error(t,r.filename,null!=e?e:r.tokline,null!=n?n:r.tokcol,null!=i?i:r.tokpos)}function u(t,e){s(e,t.line,t.col)}function a(t){null==t&&(t=K.token),u(t,"Unexpected token: "+t.type+" ("+t.value+")")}function c(t,e){return n(t,e)?r():void u(K.token,"Unexpected token "+K.token.type+" «"+K.token.value+"», expected "+t+" «"+e+"»")}function l(t){return c("punc",t)}function h(){return!e.strict&&(K.token.nlb||n("eof")||n("punc","}"))}function p(){n("punc",";")?r():h()||a()}function d(){l("(");var t=Y(!0);return l(")"),t}function f(t){return function(){var e=K.token,n=t(),i=o();return n.start=e,n.end=i,n}}function m(){(n("operator","/")||n("operator","/="))&&(K.peeked=null,K.token=K.input(K.token.value.substr(1)))}function g(){var t=x(AST_Label);find_if(function(e){return e.name==t.name},K.labels)&&s("Label "+t.name+" defined twice"),l(":"),K.labels.push(t);var e=L();return K.labels.pop(),e instanceof AST_IterationStatement||t.references.forEach(function(e){e instanceof AST_Continue&&(e=e.label.start,s("Continue label `"+t.name+"` refers to non-IterationStatement.",e.line,e.col,e.pos))}),new AST_LabeledStatement({body:e,label:t})}function y(t){return new AST_SimpleStatement({body:(t=Y(!0),p(),t)})}function A(t){var e,n=null;h()||(n=x(AST_LabelRef,!0)),null!=n?(e=find_if(function(t){return t.name==n.name},K.labels),e||s("Undefined label "+n.name),n.thedef=e):0==K.in_loop&&s(t.TYPE+" not inside a loop or switch"),p();var i=new t({label:n});return e&&e.references.push(i),i}function v(){l("(");var t=null;return!n("punc",";")&&(t=n("keyword","var")?(r(),I(!0)):Y(!0,!0),n("operator","in"))?(t instanceof AST_Var&&t.definitions.length>1&&s("Only one variable declaration allowed in for..in loop"),r(),b(t)):_(t)}function _(t){l(";");var e=n("punc",";")?null:Y(!0);l(";");var i=n("punc",")")?null:Y(!0);return l(")"),new AST_For({init:t,condition:e,step:i,body:Q(L)})}function b(t){var e=t instanceof AST_Var?t.definitions[0].name:null,n=Y(!0);return l(")"),new AST_ForIn({init:t,name:e,object:n,body:Q(L)})}function S(){var t=d(),e=L(),i=null;return n("keyword","else")&&(r(),i=L()),new AST_If({condition:t,body:e,alternative:i})}function C(){l("{");for(var t=[];!n("punc","}");)n("eof")&&a(),t.push(L());return r(),t}function E(){l("{");for(var t,e=[],i=null,s=null;!n("punc","}");)n("eof")&&a(),n("keyword","case")?(s&&(s.end=o()),i=[],s=new AST_Case({start:(t=K.token,r(),t),expression:Y(!0),body:i}),e.push(s),l(":")):n("keyword","default")?(s&&(s.end=o()),i=[],s=new AST_Default({start:(t=K.token,r(),l(":"),t),body:i}),e.push(s)):(i||a(),i.push(L()));return s&&(s.end=o()),r(),e}function w(){var t=C(),e=null,i=null;if(n("keyword","catch")){var u=K.token;r(),l("(");var a=x(AST_SymbolCatch);l(")"),e=new AST_Catch({start:u,argname:a,body:C(),end:o()})}if(n("keyword","finally")){var u=K.token;r(),i=new AST_Finally({start:u,body:C(),end:o()})}return e||i||s("Missing catch/finally blocks"),new AST_Try({body:t,bcatch:e,bfinally:i})}function D(t,e){for(var i=[];i.push(new AST_VarDef({start:K.token,name:x(e?AST_SymbolConst:AST_SymbolVar),value:n("operator","=")?(r(),Y(!1,t)):null,end:o()})),n("punc",",");)r();return i}function F(){var t,e=K.token;switch(e.type){case"name":case"keyword":t=T(AST_SymbolRef);break;case"num":t=new AST_Number({start:e,end:e,value:e.value});break;case"string":t=new AST_String({start:e,end:e,value:e.value,quote:e.quote});break;case"regexp":t=new AST_RegExp({start:e,end:e,value:e.value});break;case"atom":switch(e.value){case"false":t=new AST_False({start:e,end:e});break;case"true":t=new AST_True({start:e,end:e});break;case"null":t=new AST_Null({start:e,end:e})}}return r(),t}function B(t,e,i){for(var o=!0,s=[];!n("punc",t)&&(o?o=!1:l(","),!e||!n("punc",t));)s.push(n("punc",",")&&i?new AST_Hole({start:K.token,end:K.token}):Y(!1));return r(),s}function k(){var t=K.token;switch(r(),t.type){case"num":case"string":case"name":case"operator":case"keyword":case"atom":return t.value;default:a()}}function P(){var t=K.token;switch(r(),t.type){case"name":case"operator":case"keyword":case"atom":return t.value;default:a()}}function T(t){var e=K.token.value;return new("this"==e?AST_This:t)({name:String(e),start:K.token,end:K.token})}function x(t,e){if(!n("name"))return e||s("Name expected"),null;var i=T(t);return r(),i}function $(t,e,n){return"++"!=e&&"--"!=e||O(n)||s("Invalid use of "+e+" operator"),new t({operator:e,expression:n})}function M(t){return G(z(!0),0,t)}function O(t){return e.strict?t instanceof AST_This?!1:t instanceof AST_PropAccess||t instanceof AST_Symbol:!0}function Q(t){++K.in_loop;var e=t();return--K.in_loop,e}e=defaults(e,{strict:!1,filename:null,toplevel:null,expression:!1,html5_comments:!0,bare_returns:!1});var K={input:"string"==typeof t?tokenizer(t,e.filename,e.html5_comments):t,token:null,prev:null,peeked:null,in_function:0,in_directives:!0,in_loop:0,labels:[]};K.token=r();var L=f(function(){var t;switch(m(),K.token.type){case"string":var u=K.in_directives,l=y();return u&&l.body instanceof AST_String&&!n("punc",",")?new AST_Directive({start:l.body.start,end:l.body.end,quote:l.body.quote,value:l.body.value}):l;case"num":case"regexp":case"operator":case"atom":return y();case"name":return is_token(i(),"punc",":")?g():y();case"punc":switch(K.token.value){case"{":return new AST_BlockStatement({start:K.token,body:C(),end:o()});case"[":case"(":return y();case";":return r(),new AST_EmptyStatement;default:a()}case"keyword":switch(t=K.token.value,r(),t){case"break":return A(AST_Break);case"continue":return A(AST_Continue);case"debugger":return p(),new AST_Debugger;case"do":return new AST_Do({body:Q(L),condition:(c("keyword","while"),t=d(),p(),t)});case"while":return new AST_While({condition:d(),body:Q(L)});case"for":return v();case"function":return R(AST_Defun);case"if":return S();case"return":return 0!=K.in_function||e.bare_returns||s("'return' outside of function"),new AST_Return({value:n("punc",";")?(r(),null):h()?null:(t=Y(!0),p(),t)});case"switch":return new AST_Switch({expression:d(),body:Q(E)});case"throw":return K.token.nlb&&s("Illegal newline after 'throw'"),new AST_Throw({value:(t=Y(!0),p(),t)});case"try":return w();case"var":return t=I(),p(),t;case"const":return t=N(),p(),t;case"with":return new AST_With({expression:d(),body:L()});default:a()}}}),R=function(t){var e=t===AST_Defun,i=n("name")?x(e?AST_SymbolDefun:AST_SymbolLambda):null;return e&&!i&&a(),l("("),new t({name:i,argnames:function(t,e){for(;!n("punc",")");)t?t=!1:l(","),e.push(x(AST_SymbolFunarg));return r(),e}(!0,[]),body:function(t,e){++K.in_function,K.in_directives=!0,K.in_loop=0,K.labels=[];var n=C();return--K.in_function,K.in_loop=t,K.labels=e,n}(K.in_loop,K.labels)})},I=function(t){return new AST_Var({start:o(),definitions:D(t,!1),end:o()})},N=function(){return new AST_Const({start:o(),definitions:D(!1,!0),end:o()})},j=function(){var t=K.token;c("operator","new");var e,i=H(!1);return n("punc","(")?(r(),e=B(")")):e=[],W(new AST_New({start:t,expression:i,args:e,end:o()}),!0)},H=function(t){if(n("operator","new"))return j();var e=K.token;if(n("punc")){switch(e.value){case"(":r();var i=Y(!0);return i.start=e,i.end=K.token,l(")"),W(i,t);case"[":return W(q(),t);case"{":return W(U(),t)}a()}if(n("keyword","function")){r();var s=R(AST_Function);return s.start=e,s.end=o(),W(s,t)}return ATOMIC_START_TOKEN[K.token.type]?W(F(),t):void a()},q=f(function(){return l("["),new AST_Array({elements:B("]",!e.strict,!0)})}),U=f(function(){l("{");for(var t=!0,i=[];!n("punc","}")&&(t?t=!1:l(","),e.strict||!n("punc","}"));){var s=K.token,u=s.type,a=k();if("name"==u&&!n("punc",":")){if("get"==a){i.push(new AST_ObjectGetter({start:s,key:F(),value:R(AST_Accessor),end:o()}));continue}if("set"==a){i.push(new AST_ObjectSetter({start:s,key:F(),value:R(AST_Accessor),end:o()}));continue}}l(":"),i.push(new AST_ObjectKeyVal({start:s,quote:s.quote,key:a,value:Y(!1),end:o()}))}return r(),new AST_Object({properties:i})}),W=function(t,e){var i=t.start;if(n("punc","."))return r(),W(new AST_Dot({start:i,expression:t,property:P(),end:o()}),e);if(n("punc","[")){r();var s=Y(!0);return l("]"),W(new AST_Sub({start:i,expression:t,property:s,end:o()}),e)}return e&&n("punc","(")?(r(),W(new AST_Call({start:i,expression:t,args:B(")"),end:o()}),!0)):t},z=function(t){var e=K.token;if(n("operator")&&UNARY_PREFIX(e.value)){r(),m();var i=$(AST_UnaryPrefix,e.value,z(t));return i.start=e,i.end=o(),i}for(var s=H(t);n("operator")&&UNARY_POSTFIX(K.token.value)&&!K.token.nlb;)s=$(AST_UnaryPostfix,K.token.value,s),s.start=e,s.end=K.token,r();return s},G=function(t,e,i){var o=n("operator")?K.token.value:null;"in"==o&&i&&(o=null);var s=null!=o?PRECEDENCE[o]:null;if(null!=s&&s>e){r();var u=G(z(!0),s,i);return G(new AST_Binary({start:t.start,left:t,operator:o,right:u,end:u.end}),e,i)}return t},V=function(t){var e=K.token,i=M(t);if(n("operator","?")){r();var s=Y(!1);return l(":"),new AST_Conditional({start:e,condition:i,consequent:s,alternative:Y(!1,t),end:o()})}return i},X=function(t){var e=K.token,i=V(t),u=K.token.value;if(n("operator")&&ASSIGNMENT(u)){if(O(i))return r(),new AST_Assign({start:e,left:i,operator:u,right:X(t),end:o()});s("Invalid assignment")}return i},Y=function(t,e){var o=K.token,s=X(e);return t&&n("punc",",")?(r(),new AST_Seq({start:o,car:s,cdr:Y(!0,e),end:i()})):s};return e.expression?Y(!0):function(){for(var t=K.token,i=[];!n("eof");)i.push(L());var r=o(),s=e.toplevel;return s?(s.body=s.body.concat(i),s.end=r):s=new AST_Toplevel({start:t,body:i,end:r}),s}()}function array_to_hash(t){for(var e=Object.create(null),n=0;n<t.length;++n)e[t[n]]=!0;return e}function slice(t,e){return Array.prototype.slice.call(t,e||0)}function characters(t){return t.split("")}function member(t,e){for(var n=e.length;--n>=0;)if(e[n]==t)return!0;return!1}function find_if(t,e){for(var n=0,i=e.length;i>n;++n)if(t(e[n]))return e[n]}function repeat_string(t,e){if(0>=e)return"";if(1==e)return t;var n=repeat_string(t,e>>1);return n+=n,1&e&&(n+=t),n}function DefaultsError(t,e){Error.call(this,t),this.msg=t,this.defs=e}function defaults(t,e,n){t===!0&&(t={});var i=t||{};if(n)for(var r in i)i.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&DefaultsError.croak("`"+r+"` is not a supported option",e);for(var r in e)e.hasOwnProperty(r)&&(i[r]=t&&t.hasOwnProperty(r)?t[r]:e[r]);return i}function merge(t,e){var n=0;for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i],n++);return n}function noop(){}function push_uniq(t,e){t.indexOf(e)<0&&t.push(e)}function string_template(t,e){return t.replace(/\{(.+?)\}/g,function(t,n){return e[n]})}function remove(t,e){for(var n=t.length;--n>=0;)t[n]===e&&t.splice(n,1)}function mergeSort(t,e){function n(t,n){for(var i=[],r=0,o=0,s=0;r<t.length&&o<n.length;)i[s++]=e(t[r],n[o])<=0?t[r++]:n[o++];return r<t.length&&i.push.apply(i,t.slice(r)),o<n.length&&i.push.apply(i,n.slice(o)),i}function i(t){if(t.length<=1)return t;var e=Math.floor(t.length/2),r=t.slice(0,e),o=t.slice(e);return r=i(r),o=i(o),n(r,o)}return t.length<2?t.slice():i(t)}function set_difference(t,e){return t.filter(function(t){return e.indexOf(t)<0})}function set_intersection(t,e){return t.filter(function(t){return e.indexOf(t)>=0})}function makePredicate(t){function e(t){if(1==t.length)return n+="return str === "+JSON.stringify(t[0])+";";n+="switch(str){";for(var e=0;e<t.length;++e)n+="case "+JSON.stringify(t[e])+":";n+="return true}return false;"}t instanceof Array||(t=t.split(" "));var n="",i=[];t:for(var r=0;r<t.length;++r){for(var o=0;o<i.length;++o)if(i[o][0].length==t[r].length){i[o].push(t[r]);continue t}i.push([t[r]])}if(i.length>3){i.sort(function(t,e){return e.length-t.length}),n+="switch(str.length){";for(var r=0;r<i.length;++r){var s=i[r];n+="case "+s[0].length+":",e(s)}n+="}"}else e(t);return new Function("str",n)}function all(t,e){for(var n=t.length;--n>=0;)if(!e(t[n]))return!1;return!0}function Dictionary(){this._values=Object.create(null),this._size=0}function clone(t){if(null==t||"object"!=typeof t)return t;var e={};for(var n in t)e[n]=clone(t[n]);return e}function is_letter(t){return UNICODE.letter.test(t)}function is_digit(t){return t=t.charCodeAt(0),t>=48&&57>=t}function is_alphanumeric_char(t){return is_digit(t)||is_letter(t)}function is_unicode_combining_mark(t){return UNICODE.non_spacing_mark.test(t)||UNICODE.space_combining_mark.test(t)}function is_unicode_connector_punctuation(t){return UNICODE.connector_punctuation.test(t)}function is_identifier_start(t){return"$"==t||"_"==t||is_letter(t)}function is_identifier_char(t){return is_identifier_start(t)||is_unicode_combining_mark(t)||is_digit(t)||is_unicode_connector_punctuation(t)||"‌"==t||"‍"==t}function parse_js_number(t){return RE_HEX_NUMBER.test(t)?parseInt(t.substr(2),16):RE_OCT_NUMBER.test(t)?parseInt(t.substr(1),8):RE_DEC_NUMBER.test(t)?parseFloat(t):void 0}function JS_Parse_Error(t,e,n,i){this.message=t,this.line=e,this.col=n,this.pos=i;try{({})()}catch(r){this.stack=r.stack}}function js_error(t,e,n,i){throw new JS_Parse_Error(t,e,n,i)}function is_token(t,e,n){return t.type==e&&(null==n||t.value==n)}function tokenizer(t){function e(){return C.text.charAt(C.pos)}function n(t){var e=C.text.charAt(C.pos++);if(t&&!e)throw EX_EOF;return"\n"==e?(C.newline_before=!0,++C.line,C.col=0):++C.col,e}function i(t,e){var n=C.text.indexOf(t,C.pos);if(e&&-1==n)throw EX_EOF;return n}function r(){C.tokline=C.line,C.tokcol=C.col,C.tokpos=C.pos}function o(t,e,n){C.regex_allowed="operator"==t&&!HOP(UNARY_POSTFIX,e)||"keyword"==t&&HOP(KEYWORDS_BEFORE_EXPRESSION,e)||"punc"==t&&HOP(PUNC_BEFORE_EXPRESSION,e);var i={type:t,value:e,line:C.tokline,col:C.tokcol,pos:C.tokpos,nlb:C.newline_before};return n||(i.comments_before=C.comments_before,C.comments_before=[]),C.newline_before=!1,i}function s(){for(;HOP(WHITESPACE_CHARS,e());)n()}function u(t){for(var i="",r=e(),o=0;r&&t(r,o++);)i+=n(),r=e();return i}function a(t){js_error(t,C.tokline,C.tokcol,C.tokpos)}function c(t){var e=!1,n=!1,i=!1,r="."==t,s=u(function(o,s){return"x"==o||"X"==o?i?!1:i=!0:i||"E"!=o&&"e"!=o?"-"==o?n||0==s&&!t?!0:!1:"+"==o?n:(n=!1,"."==o?r||i?!1:r=!0:is_alphanumeric_char(o)):e?!1:e=n=!0});t&&(s=t+s);var c=parse_js_number(s);return isNaN(c)?void a("Invalid syntax: "+s):o("num",c)}function l(){var t=n(!0);switch(t){case"n":return"\n";case"r":return"\r";case"t":return"	";case"b":return"\b";case"v":return"";case"f":return"\f";case"0":return"\x00";case"x":return String.fromCharCode(h(2));case"u":return String.fromCharCode(h(4));case"\n":return"";default:return t}}function h(t){for(var e=0;t>0;--t){var i=parseInt(n(!0),16);isNaN(i)&&a("Invalid hex-character pattern in string"),e=e<<4|i}return e}function p(){return b("Unterminated string constant",function(){for(var t=n(),e="";;){var i=n(!0);if("\\"==i)i=l();else if(i==t)break;e+=i}return o("string",e)})}function d(){n();var t,e=i("\n");return-1==e?(t=C.text.substr(C.pos),C.pos=C.text.length):(t=C.text.substring(C.pos,e),C.pos=e),o("comment1",t,!0)}function f(){return n(),b("Unterminated multiline comment",function(){var t=i("*/",!0),e=C.text.substring(C.pos,t),n=o("comment2",e,!0);return C.pos=t+2,C.line+=e.split("\n").length-1,C.newline_before=e.indexOf("\n")>=0,/^@cc_on/i.test(e)&&(warn("WARNING: at line "+C.line),warn('*** Found "conditional comment": '+e),warn("*** UglifyJS DISCARDS ALL COMMENTS.  This means your code might no longer work properly in Internet Explorer.")),n})}function m(){for(var t,i=!1,r="";null!=(t=e());)if(i)"u"!=t&&a("Expecting UnicodeEscapeSequence -- uXXXX"),t=l(),is_identifier_char(t)||a("Unicode char: "+t.charCodeAt(0)+" is not valid in identifier"),r+=t,i=!1;else if("\\"==t)i=!0,n();else{if(!is_identifier_char(t))break;r+=n()}return r}function g(){return b("Unterminated regular expression",function(){for(var t,e=!1,i="",r=!1;t=n(!0);)if(e)i+="\\"+t,e=!1;else if("["==t)r=!0,i+=t;else if("]"==t&&r)r=!1,i+=t;else{if("/"==t&&!r)break;"\\"==t?e=!0:i+=t}var s=m();return o("regexp",[i,s])})}function y(t){function i(t){if(!e())return t;var r=t+e();return HOP(OPERATORS,r)?(n(),i(r)):t}return o("operator",i(t||n()))}function A(){n();var t=C.regex_allowed;switch(e()){case"/":return C.comments_before.push(d()),C.regex_allowed=t,S();case"*":return C.comments_before.push(f()),C.regex_allowed=t,S()}return C.regex_allowed?g():y("/")}function v(){return n(),is_digit(e())?c("."):o("punc",".")}function _(){var t=m();return HOP(KEYWORDS,t)?HOP(OPERATORS,t)?o("operator",t):HOP(KEYWORDS_ATOM,t)?o("atom",t):o("keyword",t):o("name",t)}function b(t,e){try{return e()}catch(n){if(n!==EX_EOF)throw n;a(t)}}function S(t){if(t)return g();s(),r();var i=e();return i?is_digit(i)?c():'"'==i||"'"==i?p():HOP(PUNC_CHARS,i)?o("punc",n()):"."==i?v():"/"==i?A():HOP(OPERATOR_CHARS,i)?y():"\\"==i||is_identifier_start(i)?_():void a("Unexpected character '"+i+"'"):o("eof")}var C={text:t.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,""),pos:0,tokpos:0,line:0,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[]};return S.context=function(t){return t&&(C=t),C},S}function NodeWithToken(t,e,n){this.name=t,this.start=e,this.end=n}function qmlparse(t,e,n){function i(t,e){return is_token(et.token,t,e)}function r(){return et.peeked||(et.peeked=et.input())}function o(){return et.prev=et.token,et.peeked?(et.token=et.peeked,et.peeked=null):et.token=et.input(),et.token}function s(){return et.prev}function u(t,e,n,i){var r=et.input.context();js_error(t,null!=e?e:r.tokline,null!=n?n:r.tokcol,null!=i?i:r.tokpos)}function a(t,e){u(e,t.line,t.col)}function c(t){null==t&&(t=et.token),a(t,"Unexpected token: "+t.type+" ("+t.value+")")}function l(t,e){return i(t,e)?o():void a(et.token,"Unexpected token "+et.token.type+" "+et.token.val+", expected "+t+" "+e)}function h(t){return l("punc",t)}function p(){return!e&&(et.token.nlb||i("eof")||i("punc","}"))}function d(){i("punc",";")?o():p()||c()}function f(){return slice(arguments)}function m(){h("(");var t=st();return h(")"),t}function g(t,e,n){return t instanceof NodeWithToken?t:new NodeWithToken(t,e,n)}function y(t){return n?function(){var e=et.token,n=t.apply(this,arguments);return n[0]=g(n[0],e,s()),n}:t}function A(t){et.labels.push(t);var n=et.token,i=nt();return e&&!HOP(STATEMENTS_WITH_LABELS,i[0])&&c(n),et.labels.pop(),f("label",t,i)}function v(){return f("stat",prog1(st,d))}function _(t){var e=i("name")?et.token.value:null;return null!=e?(o(),member(e,et.labels)||u("Label "+e+" without matching loop or statement")):0==et.in_loop&&u(t+" not inside a loop or switch"),d(),f(t,e)}function b(){h("(");var t=null;return!i("punc",";")&&(t=i("keyword","var")?(o(),B(!0)):st(!0,!0),i("operator","in"))?C(t):S(t)}function S(t){h(";");var e=i("punc",";")?null:st();h(";");var n=i("punc",")")?null:st();return h(")"),f("for",t,e,n,q(nt))}function C(t){var e="var"==t[0]?f("name",t[1][0]):t;o();var n=st();return h(")"),f("for-in",t,e,n,q(nt))}function E(){var t,e=m(),n=nt();return i("keyword","else")&&(o(),t=nt()),f("if",e,n,t)}function w(){h("{");for(var t=[];!i("punc","}");)i("eof")&&c(),t.push(nt());return o(),t}function D(){var t,e,n=w();if(i("keyword","catch")){o(),h("("),i("name")||u("Name expected");var r=et.token.value;o(),h(")"),t=[r,w()]}return i("keyword","finally")&&(o(),e=w()),t||e||u("Missing catch/finally blocks"),f("try",n,t,e)}function F(t){for(var e=[];;){i("name")||c();var n=et.token.value;if(o(),i("operator","=")?(o(),e.push([n,st(!1,t)])):e.push([n]),!i("punc",","))break;o()}return e}function B(t){return f("var",F(t))}function k(){return f("const",F())}function P(){var t,e=ot(!1);return i("punc","(")?(o(),t=T(")")):t=[],Q(f("new",e,t),!0)}function T(t,e,n){for(var r=!0,s=[];!i("punc",t)&&(r?r=!1:h(","),!e||!i("punc",t));)s.push(i("punc",",")&&n?["atom","undefined"]:st(!1));return o(),s}function x(){return f("array",T("]",!e,!0))}function $(){for(var t=!0,n=[];!i("punc","}")&&(t?t=!1:h(","),e||!i("punc","}"));){var r=et.token.type,s=M();"name"!=r||"get"!=s&&"set"!=s||i("punc",":")?(h(":"),n.push([s,st(!1)])):n.push([O(),it(!1),s])}return o(),f("object",n)}function M(){switch(et.token.type){case"num":case"string":return prog1(et.token.value,o)}return O()}function O(){switch(et.token.type){case"name":case"operator":case"keyword":case"atom":return prog1(et.token.value,o);default:c()}}function Q(t,e){return i("punc",".")?(o(),Q(f("dot",t,O()),e)):i("punc","[")?(o(),Q(f("sub",t,prog1(st,curry(h,"]"))),e)):e&&i("punc","(")?(o(),Q(f("call",t,T(")")),!0)):e&&i("operator")&&HOP(UNARY_POSTFIX,et.token.value)?prog1(curry(K,"unary-postfix",et.token.value,t),o):t}function K(t,e,n){return"++"!=e&&"--"!=e||N(n)||u("Invalid use of "+e+" operator"),f(t,e,n)}function L(t,e,n){var r=i("operator")?et.token.value:null;r&&"in"==r&&n&&(r=null);var s=null!=r?PRECEDENCE[r]:null;if(null!=s&&s>e){o();var u=L(ot(!0),s,n);return L(f("binary",r,t,u),e,n)}return t}function R(t){return L(ot(!0),0,t)}function I(t){var e=R(t);if(i("operator","?")){o();var n=st(!1);return h(":"),f("conditional",e,n,st(!1,t))}return e}function N(t){if(!e)return!0;switch(t[0]){case"dot":case"sub":case"new":case"call":return!0;case"name":return"this"!=t[1]}}function j(t){var e=I(t),n=et.token.value;if(i("operator")&&HOP(ASSIGNMENT,n)){if(N(e))return o(),f("assign",ASSIGNMENT[n],e,j(t));u("Invalid assignment")}return e}function H(t){var e=j(t);return i("punc","{")?f("qmlelem",e[1],void 0,W()):e}function q(t){try{return++et.in_loop,t()}finally{--et.in_loop}}function U(t){return t[0].toUpperCase()==t[0]}function W(){h("{");for(var t=[];!i("punc","}");)i("eof")&&c(),t.push(X());return h("}"),t}function z(){var e=et.token.value;o();var n=et.token.value;if(o(),"alias"==e){h(":"),i("name")||c();var r=et.token.value;if(o(),i("punc",".")){o(),i("name")||c();var s=et.token.value;o()}return f("qmlaliasdef",n,r,s)}if(i("punc",":")){o(),et.in_function++;var u=et.token.pos,a=nt(),l=et.token.pos;return et.in_function--,f("qmlpropdef",n,e,a,t.substr(u,l-u))}return i("punc",";")&&o(),f("qmlpropdef",n,e)}function G(){return o(),l("name","property"),f("qmldefaultprop",z())}function V(){o();var t=et.token.value;o();var e=[];if(i("punc","(")){o();for(var n=!0;!i("punc",")");){n?n=!1:h(","),i("name")||c();var r=et.token.value;o(),i("name")||c(),e.push({type:r,name:et.token.value}),o()}o()}return i("punc",";")&&o(),f("qmlsignaldef",t,e)}function X(){if(i("keyword","function")){var e=et.token.pos;o();var n=it(!0),r=et.token.pos,s=n[1];return f("qmlmethod",s,n,t.substr(e,r-e))}if(i("name","signal"))return V();if("name"==et.token.type){var u=et.token.value;if(o(),"property"!=u||"name"!=et.token.type&&"var"!=et.token.value){if(U(u)&&!i("punc",".")){var a;return i("name","on")&&(o(),a=et.token.value,o()),f("qmlelem",u,a,W())}if(i("punc",".")){o();var c=et.token.value;o(),h(":"),et.in_function++;var e=et.token.pos,n=nt(),r=et.token.pos;return et.in_function--,f("qmlobjdef",u,c,n,t.substr(e,r-e))}if(i("punc","{"))return f("qmlobj",u,W());h(":"),et.in_function++;var e=et.token.pos,n=nt(),r=et.token.pos;return et.in_function--,f("qmlprop",u,n,t.substr(e,r-e))}return z()}return i("keyword","default")?G():void tt()}function Y(){var t=null,e=null,n=null,i=!1,r=!1,s=et.token.line;for(o();("punc"!=et.token.type||"."==et.token.value)&&et.token.line==s;)"punc"==et.token.type&&"."==et.token.value?r=!0:1==r?(t+="."+et.token.value,r=!1):null==t?t=et.token.value:0==i?"as"==et.token.value?i=!0:null==e&&(e=et.token.value):n=et.token.value,o();for(;"punc"==et.token.type;)o();imports.push({subject:t,version:e,alias:n})}function J(){for(imports=[];i("name","import");)Y();var t=X();return t.push("imports"),t.push(imports),t}function Z(t){console&&console.log(t,clone(et),et.token.type,et.token.value)}function tt(){Z("todo parse:"),o()}var et={input:"string"==typeof t?tokenizer(t,!0):t,token:null,prev:null,peeked:null,in_function:0,in_loop:0,labels:[]};et.token=o();var nt=y(function(){switch(i("operator","/")&&(et.peeked=null,et.token=et.input(!0)),et.token.type){case"num":case"string":case"regexp":case"operator":case"atom":return v();case"name":return is_token(r(),"punc",":")?A(prog1(et.token.value,o,o)):v();case"punc":switch(et.token.value){case"{":return f("block",w());case"[":case"(":return v();case";":return o(),f("block");default:c()}case"keyword":switch(prog1(et.token.value,o)){case"break":return _("break");case"continue":return _("continue");case"debugger":return d(),f("debugger");case"do":return function(t){return l("keyword","while"),f("do",prog1(m,d),t)}(q(nt));case"for":return b();case"function":return it(!0);case"if":return E();case"return":return 0==et.in_function&&u("'return' outside of function"),f("return",i("punc",";")?(o(),null):p()?null:prog1(st,d));case"switch":return f("switch",m(),rt());case"throw":return f("throw",prog1(st,d));case"try":return D();case"var":return prog1(B,d);case"const":return prog1(k,d);

case"while":return f("while",m(),q(nt));case"with":return f("with",m(),nt());default:c()}}}),it=y(function(t){var e=i("name")?prog1(et.token.value,o):null;return t&&!e&&c(),h("("),f(t?"defun":"function",e,function(t,e){for(;!i("punc",")");)t?t=!1:h(","),i("name")||c(),e.push(et.token.value),o();return o(),e}(!0,[]),function(){++et.in_function;var t=et.in_loop;et.in_loop=0;var e=w();return--et.in_function,et.in_loop=t,e}())}),rt=curry(q,function(){h("{");for(var t=[],e=null;!i("punc","}");)i("eof")&&c(),i("keyword","case")?(o(),e=[],t.push([st(),e]),h(":")):i("keyword","default")?(o(),h(":"),e=[],t.push([null,e])):(e||c(),e.push(nt()));return o(),t}),ot=y(function(t){if(i("operator","new"))return o(),P();if(i("operator")&&HOP(UNARY_PREFIX,et.token.value))return K("unary-prefix",prog1(et.token.value,o),ot(t));if(i("punc")){switch(et.token.value){case"(":return o(),Q(prog1(st,curry(h,")")),t);case"[":return o(),Q(x(),t);case"{":return o(),Q($(),t)}c()}if(i("keyword","function"))return o(),Q(it(!1),t);if(HOP(ATOMIC_START_TOKEN,et.token.type)){var e="regexp"==et.token.type?f("regexp",et.token.value[0],et.token.value[1]):f(et.token.type,et.token.value);return Q(prog1(e,o),t)}c()}),st=y(function(t,e){0==arguments.length&&(t=!0);var n=H(e);return t&&i("punc",",")?(o(),f("seq",n,st(!0,e))):n});return f("toplevel",function(t){for(;!i("eof");)t.push(J());return t}([]))}function curry(t){var e=slice(arguments,1);return function(){return t.apply(this,e.concat(slice(arguments)))}}function prog1(t){t instanceof Function&&(t=t());for(var e=1,n=arguments.length;--n>0;++e)arguments[e]();return t}function array_to_hash(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=!0;return e}function slice(t,e){return Array.prototype.slice.call(t,null==e?0:e)}function characters(t){return t.split("")}function member(t,e){for(var n=e.length;--n>=0;)if(e[n]===t)return!0;return!1}function HOP(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function QMLMethod(t){this.src=t}function QMLPropertyDefinition(t,e){this.type=t,this.value=e}function QMLAliasDefinition(t,e){this.objectName=t,this.propertyName=e}function QMLSignalDefinition(t){this.parameters=t}function QMLMetaPropertyGroup(){}function QMLMetaElement(t,e){this.$class=t,this.$children=[],this.$on=e}function convertToEngine(t){function e(t){var e=t[0],n=i[e];return n?n.apply(e,t.slice(1)):void console.log("No walker for "+e)}function n(t,n){if("name"==t[1][0]&&("true"==t[1][1]||"false"==t[1][1]))return"true"==t[1][1];switch(t[1][0]){case"num":return+t[1][1];case"string":return String(t[1][1]);case"qmlelem":return e(t[1]);case"array":var i=[];for(var r in t[1][1])i.push(e(t[1][1][r]));return i;default:return new QMLBinding(n,t)}}var i={toplevel:function(t){for(var n={$class:"QMLDocument"},i=0;i<t[0].length;++i)if("imports"==t[0][i]){n.$imports=t[0][i+1];break}return n.$children=[e(t[0])],n},qmlelem:function(t,n,i){var r=new QMLMetaElement(t,n);for(var o in i){var s=i[o],u=s[1],a=e(s);switch(s[0]){case"qmldefaultprop":r.$defaultProperty=u;case"qmlprop":case"qmlpropdef":case"qmlaliasdef":case"qmlmethod":case"qmlsignaldef":r[u]=a;break;case"qmlelem":r.$children.push(a);break;case"qmlobjdef":r[u]=r[u]||new QMLMetaPropertyGroup,r[u][s[2]]=a;break;case"qmlobj":r[u]=r[u]||new QMLMetaPropertyGroup;for(var o in a)r[u][o]=a[o];break;default:console.log("Unknown statement",s)}}return 1===r.$children.length&&(r.$children=r.$children[0]),r},qmlprop:function(t,e,i){return"id"==t?e[1][1]:n(e,i)},qmlobjdef:function(t,e,i,r){return n(i,r)},qmlobj:function(t,n){var i={};for(var r in n){var o=n[r],s=o[1],u=e(o);"qmlprop"==o[0]&&(i[s]=u)}return i},qmlmethod:function(t,e,n){return new QMLMethod(n)},qmlpropdef:function(t,e,i,r){return new QMLPropertyDefinition(e,i?n(i,r):"")},qmlaliasdef:function(t,e,n){return new QMLAliasDefinition(e,n)},qmlsignaldef:function(t,e){return new QMLSignalDefinition(e)},qmldefaultprop:function(t){return e(t)},name:function(e){return n(t,e)}};return e(t)}function parseQML(t){var e=qmlparse(t);return convertToEngine(e)}function ast_walker(t){function e(t){return[this[0],MAP(t,function(t){var e=[t[0]];return t.length>1&&(e[1]=i(t[1])),e})]}function n(t){var e=[this[0]];return null!=t&&e.push(MAP(t,i)),e}function i(t){if(null==t)return null;try{u.push(t);var e=t[0],n=s[e];if(n){var i=n.apply(t,t.slice(1));if(null!=i)return i}return n=o[e],n.apply(t,t.slice(1))}finally{u.pop()}}function r(t,e){var n,i={};for(n in t)HOP(t,n)&&(i[n]=s[n],s[n]=t[n]);var r=e();for(n in i)HOP(i,n)&&(i[n]?s[n]=i[n]:delete s[n]);return r}var o={string:function(t){return[this[0],t]},num:function(t){return[this[0],t]},name:function(t){return[this[0],t]},toplevel:function(t){return[this[0],MAP(t,i)]},block:n,splice:n,"var":e,"const":e,"try":function(t,e,n){return[this[0],MAP(t,i),null!=e?[e[0],MAP(e[1],i)]:null,null!=n?MAP(n,i):null]},"throw":function(t){return[this[0],i(t)]},"new":function(t,e){return[this[0],i(t),MAP(e,i)]},"switch":function(t,e){return[this[0],i(t),MAP(e,function(t){return[t[0]?i(t[0]):null,MAP(t[1],i)]})]},"break":function(t){return[this[0],t]},"continue":function(t){return[this[0],t]},conditional:function(t,e,n){return[this[0],i(t),i(e),i(n)]},assign:function(t,e,n){return[this[0],t,i(e),i(n)]},dot:function(t){return[this[0],i(t)].concat(slice(arguments,1))},call:function(t,e){return[this[0],i(t),MAP(e,i)]},"function":function(t,e,n){return[this[0],t,e.slice(),MAP(n,i)]},defun:function(t,e,n){return[this[0],t,e.slice(),MAP(n,i)]},"if":function(t,e,n){return[this[0],i(t),i(e),i(n)]},"for":function(t,e,n,r){return[this[0],i(t),i(e),i(n),i(r)]},"for-in":function(t,e,n,r){return[this[0],i(t),i(e),i(n),i(r)]},"while":function(t,e){return[this[0],i(t),i(e)]},"do":function(t,e){return[this[0],i(t),i(e)]},"return":function(t){return[this[0],i(t)]},binary:function(t,e,n){return[this[0],t,i(e),i(n)]},"unary-prefix":function(t,e){return[this[0],t,i(e)]},"unary-postfix":function(t,e){return[this[0],t,i(e)]},sub:function(t,e){return[this[0],i(t),i(e)]},object:function(t){return[this[0],MAP(t,function(t){return 2==t.length?[t[0],i(t[1])]:[t[0],i(t[1]),t[2]]})]},regexp:function(t,e){return[this[0],t,e]},array:function(t){return[this[0],MAP(t,i)]},stat:function(t){return[this[0],i(t)]},seq:function(){return[this[0]].concat(MAP(slice(arguments),i))},label:function(t,e){return[this[0],t,i(e)]},"with":function(t,e){return[this[0],i(t),i(e)]},atom:function(t){return[this[0],t]}},s={},u=[];return{walk:i,with_walkers:r,parent:function(){return u[u.length-2]},stack:function(){return u}}}function Scope(t){this.names={},this.mangled={},this.rev_mangled={},this.cname=-1,this.refs={},this.uses_with=!1,this.uses_eval=!1,this.parent=t,this.children=[],t?(this.level=t.level+1,t.children.push(this)):this.level=0}function ast_add_scope(t){function e(t){s=new Scope(s);var e=s.body=t();return e.scope=s,s=s.parent,e}function n(t,e){return s.define(t,e)}function i(t){s.refs[t]=!0}function r(t,i,r){var o="defun"==this[0];return[this[0],o?n(t,"defun"):t,i,e(function(){return o||n(t,"lambda"),MAP(i,function(t){n(t,"arg")}),MAP(r,a)})]}function o(t){return function(e){MAP(e,function(e){n(e[0],t),e[1]&&i(e[0])})}}var s=null,u=ast_walker(),a=u.walk,c=[];return e(function(){function e(t,n){for(n=t.children.length;--n>=0;)e(t.children[n]);for(n in t.refs)if(HOP(t.refs,n))for(var i=t.has(n),r=t;r&&(r.refs[n]=i,r!==i);r=r.parent);}var l=u.with_walkers({"function":r,defun:r,label:function(t,e){n(t,"label")},"break":function(t){t&&i(t)},"continue":function(t){t&&i(t)},"with":function(t,e){for(var n=s;n;n=n.parent)n.uses_with=!0},"var":o("var"),"const":o("const"),"try":function(t,e,i){return null!=e?[this[0],MAP(t,a),[n(e[0],"catch"),MAP(e[1],a)],null!=i?MAP(i,a):null]:void 0},name:function(t){"eval"==t&&c.push(s),i(t)}},function(){return a(t)});return MAP(c,function(t){if(!t.has("eval"))for(;t;)t.uses_eval=!0,t=t.parent}),e(s),l})}function ast_mangle(t,e){function n(t,n){return e.toplevel||u.parent?e.except&&member(t,e.except)?t:u.get_mangled(t,n):t}function i(t){return e.defines?!u.has(t)&&HOP(e.defines,t)?e.defines[t]:null:void 0}function r(t,e,i){var r,s="defun"==this[0];return t&&(s?t=n(t):(r={},u.uses_eval||u.uses_with?r[t]=t:t=r[t]=u.next_mangled())),i=o(i.scope,function(){return e=MAP(e,function(t){return n(t)}),MAP(i,c)},r),[this[0],t,e,i]}function o(t,e,i){var r=u;if(u=t,i)for(var o in i)HOP(i,o)&&t.set_mangle(o,i[o]);for(var o in t.names)HOP(t.names,o)&&n(o,!0);var s=e();return s.scope=t,u=r,s}function s(t){return[this[0],MAP(t,function(t){return[n(t[0]),c(t[1])]})]}var u,a=ast_walker(),c=a.walk;return e=e||{},a.with_walkers({"function":r,defun:function(){var t=r.apply(this,arguments);switch(a.parent()[0]){case"toplevel":case"function":case"defun":return MAP.at_top(t)}return t},label:function(t,e){return[this[0],n(t),c(e)]},"break":function(t){return t?[this[0],n(t)]:void 0},"continue":function(t){return t?[this[0],n(t)]:void 0},"var":s,"const":s,name:function(t){return i(t)||[this[0],n(t)]},"try":function(t,e,i){return[this[0],MAP(t,c),null!=e?[n(e[0]),MAP(e[1],c)]:null,null!=i?MAP(i,c):null]},toplevel:function(t){var e=this;return o(e.scope,function(){return[e[0],MAP(t,c)]})}},function(){return c(ast_add_scope(t))})}function best_of(t,e){return gen_code(t).length>gen_code("stat"==e[0]?e[1]:e).length?e:t}function last_stat(t){return"block"==t[0]&&t[1]&&t[1].length>0?t[1][t[1].length-1]:t}function aborts(t){if(t)switch(last_stat(t)[0]){case"return":case"break":case"continue":case"throw":return!0}}function boolean_expr(t){return"unary-prefix"==t[0]&&member(t[1],["!","delete"])||"binary"==t[0]&&member(t[1],["in","instanceof","==","!=","===","!==","<","<=",">=",">"])||"binary"==t[0]&&member(t[1],["&&","||"])&&boolean_expr(t[2])&&boolean_expr(t[3])||"conditional"==t[0]&&boolean_expr(t[2])&&boolean_expr(t[3])||"assign"==t[0]&&t[1]===!0&&boolean_expr(t[3])||"seq"==t[0]&&boolean_expr(t[t.length-1])}function make_conditional(t,e,n){var i=function(){return"unary-prefix"==t[0]&&"!"==t[1]?n?["conditional",t[2],n,e]:["binary","||",t[2],e]:n?["conditional",t,e,n]:["binary","&&",t,e]};return when_constant(t,function(t,i){return warn_unreachable(i?n:e),i?e:n},i)}function empty(t){return!t||"block"==t[0]&&(!t[1]||0==t[1].length)}function is_string(t){return"string"==t[0]||"unary-prefix"==t[0]&&"typeof"==t[1]||"binary"==t[0]&&"+"==t[1]&&(is_string(t[2])||is_string(t[3]))}function warn_unreachable(t){empty(t)||warn("Dropping unreachable code: "+gen_code(t,!0))}function prepare_ifs(t){function e(t){t=MAP(t,o);for(var n=0;n<t.length;++n){var i=t[n];if(!("if"!=i[0]||i[3]&&o(i[3]))){var r=o(i[2]);if(aborts(r)){var s=o(i[1]),u=t.slice(n+1),a=1==u.length?u[0]:["block",u],c=t.slice(0,n).concat([[i[0],s,r,a]]);return e(c)}}}return t}function n(t,n,i){return i=e(i),[this[0],t,n,i]}function i(t){return[this[0],null!=t?e(t):null]}var r=ast_walker(),o=r.walk;return r.with_walkers({defun:n,"function":n,block:i,splice:i,toplevel:function(t){return[this[0],e(t)]},"try":function(t,n,i){return[this[0],e(t),null!=n?[n[0],e(n[1])]:null,null!=i?e(i):null]}},function(){return o(t)})}function for_side_effects(t,e){function n(){throw a}function i(){throw c}function r(){return e.call(this,this,s,n,i)}function o(t){return"++"==t||"--"==t?r.apply(this,arguments):void 0}var s=ast_walker(),u=s.walk,a={},c={};return s.with_walkers({"try":r,"throw":r,"return":r,"new":r,"switch":r,"break":r,"continue":r,assign:r,call:r,"if":r,"for":r,"for-in":r,"while":r,"do":r,"return":r,"unary-prefix":o,"unary-postfix":o,defun:r},function(){for(;;)try{u(t);break}catch(e){if(e===a)break;if(e===c)continue;throw e}})}function ast_lift_variables(t){function e(t,e){var n=r;r=e,t=MAP(t,s);var i={},o=MAP(e.names,function(t,n){return"var"!=t?MAP.skip:e.references(n)?(i[n]=!0,[n]):MAP.skip});return o.length>0&&(for_side_effects(["block",t],function(t,e,n,r){if("assign"==t[0]&&t[1]===!0&&"name"==t[2][0]&&HOP(i,t[2][1])){for(var s=o.length;--s>=0;)if(o[s][0]==t[2][1]){o[s][1]&&n(),o[s][1]=t[3],o.push(o.splice(s,1)[0]);break}var u=e.parent();if("seq"==u[0]){var a=u[2];a.unshift(0,u.length),u.splice.apply(u,a)}else"stat"==u[0]?u.splice(0,u.length,"block"):n();r()}n()}),t.unshift(["var",o])),r=n,t}function n(t){for(var e=null,n=t.length;--n>=0;){var i=t[n];i[1]&&(i=["assign",!0,["name",i[0]],i[1]],e=null==e?i:["seq",i,e])}return null==e?"for-in"==o.parent()[0]?["name",t[0][0]]:MAP.skip:["stat",e]}function i(t){return[this[0],e(t,this.scope)]}var r,o=ast_walker(),s=o.walk;return o.with_walkers({"function":function(t,n,i){for(var r=n.length;--r>=0&&!i.scope.references(n[r]);)n.pop();return i.scope.references(t)||(t=null),[this[0],t,n,e(i,i.scope)]},defun:function(t,n,i){if(!r.references(t))return MAP.skip;for(var o=n.length;--o>=0&&!i.scope.references(n[o]);)n.pop();return[this[0],t,n,e(i,i.scope)]},"var":n,toplevel:i},function(){return s(ast_add_scope(t))})}function ast_squeeze(t,e){function n(t){var i=["unary-prefix","!",t];switch(t[0]){case"unary-prefix":return"!"==t[1]&&boolean_expr(t[2])?t[2]:i;case"seq":return t=slice(t),t[t.length-1]=n(t[t.length-1]),t;case"conditional":return best_of(i,["conditional",t[1],n(t[2]),n(t[3])]);case"binary":var r=t[1],o=t[2],s=t[3];if(!e.keep_comps)switch(r){case"<=":return["binary",">",o,s];case"<":return["binary",">=",o,s];case">=":return["binary","<",o,s];case">":return["binary","<=",o,s]}switch(r){case"==":return["binary","!=",o,s];case"!=":return["binary","==",o,s];case"===":return["binary","!==",o,s];case"!==":return["binary","===",o,s];case"&&":return best_of(i,["binary","||",n(o),n(s)]);case"||":return best_of(i,["binary","&&",n(o),n(s)])}}return i}function i(t,e){var n=l;l=t;var i=e();return i.scope=t,l=n,i}function r(t){return null!=t&&"block"==t[0]&&t[1]&&(1==t[1].length?t=t[1][0]:0==t[1].length&&(t=["block"])),t}function o(t,e,n){var r="defun"==this[0];return n=i(n.scope,function(){var e=s(n,"lambda");return r||!t||l.references(t)||(t=null),e}),[this[0],t,e,n]}function s(t,n){return t=MAP(t,p),t=t.reduce(function(t,e){return"block"==e[0]?e[1]&&t.push.apply(t,e[1]):t.push(e),t},[]),t=function(e,n){return t.forEach(function(t){n&&("var"==t[0]&&"var"==n[0]||"const"==t[0]&&"const"==n[0])?n[1]=n[1].concat(t[1]):(e.push(t),n=t)}),e}([]),e.dead_code&&(t=function(n,i){return t.forEach(function(t){i?"function"==t[0]||"defun"==t[0]?n.push(t):"var"==t[0]||"const"==t[0]?(e.no_warnings||warn("Variables declared in unreachable code"),t[1]=MAP(t[1],function(t){return t[1]&&!e.no_warnings&&warn_unreachable(["assign",!0,["name",t[0]],t[1]]),[t[0]]}),n.push(t)):e.no_warnings||warn_unreachable(t):(n.push(t),member(t[0],["return","throw","break","continue"])&&(i=!0))}),n}([])),e.make_seqs&&(t=function(e,n){return t.forEach(function(t){n&&"stat"==n[0]&&"stat"==t[0]?n[1]=["seq",n[1],t[1]]:(e.push(t),n=t)}),e.length>=2&&"stat"==e[e.length-2][0]&&("return"==e[e.length-1][0]||"throw"==e[e.length-1][0])&&e[e.length-1][1]&&e.splice(e.length-2,2,[e[e.length-1][0],["seq",e[e.length-2][1],e[e.length-1][1]]]),e}([])),t}function u(t,e,n){return when_constant(t,function(t,i){return i?(warn_unreachable(n),e):(warn_unreachable(e),n)},function(){return a(t,e,n)})}function a(t,e,i){if(t=p(t),e=p(e),i=p(i),empty(e)?(t=n(t),e=i,i=null):empty(i)?i=null:!function(){var r=gen_code(t),o=n(t),s=gen_code(o);if(s.length<r.length){var u=e;e=i,i=u,t=o}}(),empty(i)&&empty(e))return["stat",t];var r=["if",t,e,i];return"if"==e[0]&&empty(e[3])&&empty(i)?r=best_of(r,p(["if",["binary","&&",t,e[1]],e[2]])):"stat"==e[0]?i?"stat"==i[0]&&(r=best_of(r,["stat",make_conditional(t,e[1],i[1])])):r=best_of(r,["stat",make_conditional(t,e[1])]):i&&e[0]==i[0]&&("return"==e[0]||"throw"==e[0])&&e[1]&&i[1]?r=best_of(r,[e[0],make_conditional(t,e[1],i[1])]):i&&aborts(e)?(r=[["if",t,e]],"block"==i[0]?i[1]&&(r=r.concat(i[1])):r.push(i),r=p(["block",r])):e&&aborts(i)&&(r=[["if",n(t),i]],"block"==e[0]?e[1]&&(r=r.concat(e[1])):r.push(e),r=p(["block",r])),r}function c(t,e){return when_constant(t,function(t,n){return n?["for",null,null,null,p(e)]:(warn_unreachable(e),["block"])})}e=defaults(e,{make_seqs:!0,dead_code:!0,keep_comps:!0,no_warnings:!1});var l,h=ast_walker(),p=h.walk;return h.with_walkers({sub:function(t,e){if("string"==e[0]){var n=e[1];if(is_identifier(n))return["dot",p(t),n];if(/^[1-9][0-9]*$/.test(n)||"0"===n)return["sub",p(t),["num",parseInt(n,10)]]}},"if":u,toplevel:function(t){return["toplevel",i(this.scope,function(){return s(t)})]},"switch":function(t,e){var n=e.length-1;return["switch",p(t),MAP(e,function(t,e){var i=s(t[1]);if(e==n&&i.length>0){var r=i[i.length-1];"break"!=r[0]||r[1]||i.pop()}return[t[0]?p(t[0]):null,i]})]},"function":o,defun:o,block:function(t){return t?r(["block",s(t)]):void 0},binary:function(t,e,n){return when_constant(["binary",t,p(e),p(n)],function(t){return best_of(p(t),this)},function(){return this})},conditional:function(t,e,n){return make_conditional(p(t),p(e),p(n))},"try":function(t,e,n){return["try",s(t),null!=e?[e[0],s(e[1])]:null,null!=n?s(n):null]},"unary-prefix":function(t,e){e=p(e);var i=["unary-prefix",t,e];return"!"==t&&(i=best_of(i,n(e))),when_constant(i,function(t,e){return p(t)},function(){return i})},name:function(t){switch(t){case"true":return["unary-prefix","!",["num",0]];case"false":return["unary-prefix","!",["num",1]]}},"new":function(t,e){return"name"!=t[0]||"Array"!=t[1]||l.has("Array")?void 0:1!=e.length?["array",e]:["call",["name","Array"],e]},call:function(t,e){return"name"!=t[0]||"Array"!=t[1]||1==e.length||l.has("Array")?void 0:["array",e]},"while":c},function(){for(var e=0;2>e;++e)t=prepare_ifs(t),t=ast_add_scope(t),t=p(t);return t})}function make_string(t,e){var n=0,i=0;return t=t.replace(/[\\\b\f\n\r\t\x22\x27\u2028\u2029]/g,function(t){switch(t){case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case'"':return++n,'"';case"'":return++i,"'"}return t}),e&&(t=to_ascii(t)),n>i?"'"+t.replace(/\x27/g,"\\'")+"'":'"'+t.replace(/\x22/g,'\\"')+'"'}function to_ascii(t){return t.replace(/[\u0080-\uffff]/g,function(t){for(var e=t.charCodeAt(0).toString(16);e.length<4;)e="0"+e;return"\\u"+e})}function gen_code(t,e){function n(t){var n=make_string(t,e.ascii_only);return e.inline_script&&(n=n.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1")),n}function i(t){return t=t.toString(),e.ascii_only&&(t=to_ascii(t)),t}function r(t){return null==t&&(t=""),v&&(t=repeat_string(" ",e.indent_start+_*e.indent_level)+t),t}function o(t,e){null==e&&(e=1),_+=e;try{return t.apply(null,slice(arguments,1))}finally{_-=e}}function s(t){if(v)return t.join(" ");for(var e=[],n=0;n<t.length;++n){var i=t[n+1];e.push(t[n]),i&&(/[a-z0-9_\x24]$/i.test(t[n].toString())&&/^[a-z0-9_\x24]/i.test(i.toString())||/[\+\-]$/.test(t[n].toString())&&/^[\+\-]/.test(i.toString()))&&e.push(" ")}return e.join("")}function u(t){return t.join(","+S)}function a(t){for(var e=E(t),n=1;n<arguments.length;++n){var i=arguments[n];if(i instanceof Function&&i(t)||t[0]==i)return"("+e+")"}return e}function c(t){if(1==t.length)return t[0];if(2==t.length){var e=t[1];return t=t[0],t.length<=e.length?t:e}return c([t[0],c(t.slice(1))])}function l(t){if("function"==t[0]||"object"==t[0])for(var e=slice(C.stack()),n=e.pop(),i=e.pop();i;){if("stat"==i[0])return!0;if(("seq"!=i[0]&&"call"!=i[0]&&"dot"!=i[0]&&"sub"!=i[0]&&"conditional"!=i[0]||i[1]!==n)&&("binary"!=i[0]&&"assign"!=i[0]&&"unary-postfix"!=i[0]||i[2]!==n))return!1;n=i,i=e.pop()}return!HOP(DOT_CALL_NO_PARENS,t[0])}function h(t){var e,n=t.toString(10),i=[n.replace(/^0\./,".")];return Math.floor(t)===t?(i.push("0x"+t.toString(16).toLowerCase(),"0"+t.toString(8)),(e=/^(.*?)(0+)$/.exec(t))&&i.push(e[1]+"e"+e[2].length)):(e=/^0?\.(0+)(.*)$/.exec(t))&&i.push(e[2]+"e-"+(e[1].length+e[2].length),n.substr(n.indexOf("."))),c(i)}function p(t){if("do"==t[0])return y([t]);for(var e=t;;){var n=e[0];if("if"==n){if(!e[3])return E(["block",[t]]);e=e[3]}else if("while"==n||"do"==n)e=e[2];else{if("for"!=n&&"for-in"!=n)break;e=e[4]}}return E(t)}function d(t,e,n,r){var o=r||"function";return t&&(o+=" "+i(t)),o+="("+u(MAP(e,i))+")",s([o,y(n)])}function f(t){switch(t[0]){case"with":case"while":return empty(t[2]);case"for":case"for-in":return empty(t[4]);case"if":return empty(t[2])&&!t[3]?!0:t[3]?empty(t[3])?!0:f(t[3]):f(t[2])}}function m(t,e){for(var n=[],i=t.length-1,o=0;i>=o;++o){var s=t[o],u=E(s);";"!=u&&(v||o!=i||f(s)||(u=u.replace(/;+\s*$/,"")),n.push(u))}return e?n:MAP(n,r)}function g(t){var e=t.length;return 0==e?"{}":"{"+b+MAP(t,function(t,n){var i=t[1].length>0,u=o(function(){return r(t[0]?s(["case",E(t[0])+":"]):"default:")},.5)+(i?b+o(function(){return m(t[1]).join(b)}):"");return!v&&i&&e-1>n&&(u+=";"),u}).join(b)+b+r("}")}function y(t){return t?0==t.length?"{}":"{"+b+o(function(){return m(t).join(b)})+b+r("}"):";"}function A(t){var e=t[0],n=t[1];return null!=n&&(e=s([i(e),"=",a(n,"seq")])),e}e=defaults(e,{indent_start:0,indent_level:4,quote_keys:!1,space_colon:!1,beautify:!1,ascii_only:!1,inline_script:!1});var v=!!e.beautify,_=0,b=v?"\n":"",S=v?" ":"",C=ast_walker(),E=C.walk;return C.with_walkers({string:n,num:h,name:i,toplevel:function(t){return m(t).join(b+b)},splice:function(t){var e=C.parent();return HOP(SPLICE_NEEDS_BRACKETS,e)?y.apply(this,arguments):MAP(m(t,!0),function(t,e){return e>0?r(t):t}).join(b)},block:y,"var":function(t){return"var "+u(MAP(t,A))+";"},"const":function(t){return"const "+u(MAP(t,A))+";"},"try":function(t,e,n){var i=["try",y(t)];return e&&i.push("catch","("+e[0]+")",y(e[1])),n&&i.push("finally",y(n)),s(i)},"throw":function(t){return s(["throw",E(t)])+";"},"new":function(t,e){return e=e.length>0?"("+u(MAP(e,E))+")":"",s(["new",a(t,"seq","binary","conditional","assign",function(t){var e=ast_walker(),n={};try{e.with_walkers({call:function(){throw n},"function":function(){return this}},function(){e.walk(t)})}catch(i){if(i===n)return!0;throw i}})+e])},"switch":function(t,e){return s(["switch","("+E(t)+")",g(e)])},"break":function(t){var e="break";return null!=t&&(e+=" "+i(t)),e+";"},"continue":function(t){var e="continue";return null!=t&&(e+=" "+i(t)),e+";"},conditional:function(t,e,n){return s([a(t,"assign","seq","conditional"),"?",a(e,"seq"),":",a(n,"seq")])},assign:function(t,e,n){return t&&t!==!0?t+="=":t="=",s([E(e),t,a(n,"seq")])},dot:function(t){var e=E(t),n=1;for("num"==t[0]?/\./.test(t[1])||(e+="."):l(t)&&(e="("+e+")");n<arguments.length;)e+="."+i(arguments[n++]);return e},call:function(t,e){var n=E(t);return l(t)&&(n="("+n+")"),n+"("+u(MAP(e,function(t){return a(t,"seq")}))+")"},"function":d,defun:d,"if":function(t,e,n){var i=["if","("+E(t)+")",n?p(e):E(e)];return n&&i.push("else",E(n)),s(i)},"for":function(t,e,n,i){var r=["for"];t=(null!=t?E(t):"").replace(/;*\s*$/,";"+S),e=(null!=e?E(e):"").replace(/;*\s*$/,";"+S),n=(null!=n?E(n):"").replace(/;*\s*$/,"");var o=t+e+n;return"; ; "==o&&(o=";;"),r.push("("+o+")",E(i)),s(r)},"for-in":function(t,e,n,i){return s(["for","("+(t?E(t).replace(/;+$/,""):E(e)),"in",E(n)+")",E(i)])},"while":function(t,e){return s(["while","("+E(t)+")",E(e)])},"do":function(t,e){return s(["do",E(e),"while","("+E(t)+")"])+";"},"return":function(t){var e=["return"];return null!=t&&e.push(E(t)),s(e)+";"},binary:function(t,n,i){var r=E(n),o=E(i);return(member(n[0],["assign","conditional","seq"])||"binary"==n[0]&&PRECEDENCE[t]>PRECEDENCE[n[1]])&&(r="("+r+")"),member(i[0],["assign","conditional","seq"])||"binary"==i[0]&&PRECEDENCE[t]>=PRECEDENCE[i[1]]&&(i[1]!=t||!member(t,["&&","||","*"]))?o="("+o+")":v||!e.inline_script||"<"!=t&&"<<"!=t||"regexp"!=i[0]||!/^script/i.test(i[1])||(o=" "+o),s([r,t,o])},"unary-prefix":function(t,e){var n=E(e);return"num"!=e[0]&&("unary-prefix"!=e[0]||HOP(OPERATORS,t+e[1]))&&l(e)&&(n="("+n+")"),t+(jsp.is_alphanumeric_char(t.charAt(0))?" ":"")+n},"unary-postfix":function(t,e){var n=E(e);return"num"!=e[0]&&("unary-postfix"!=e[0]||HOP(OPERATORS,t+e[1]))&&l(e)&&(n="("+n+")"),n+t},sub:function(t,e){var n=E(t);return l(t)&&(n="("+n+")"),n+"["+E(e)+"]"},object:function(t){return 0==t.length?"{}":"{"+b+o(function(){return MAP(t,function(t){if(3==t.length)return r(d(t[0],t[1][2],t[1][3],t[2]));var i=t[0],o=a(t[1],"seq");return e.quote_keys?i=n(i):("number"==typeof i||!v&&+i+""==i)&&parseFloat(i)>=0?i=h(+i):is_identifier(i)||(i=n(i)),r(s(v&&e.space_colon?[i,":",o]:[i+":",o]))}).join(","+b)})+b+r("}")},regexp:function(t,e){return"/"+t+"/"+e},array:function(t){return 0==t.length?"[]":s(["[",u(MAP(t,function(t){return v||"atom"!=t[0]||"undefined"!=t[1]?a(t,"seq"):""})),"]"])},stat:function(t){return E(t).replace(/;*\s*$/,";")},seq:function(){return u(MAP(slice(arguments),E))},label:function(t,e){return s([i(t),":",E(e)])},"with":function(t,e){return s(["with","("+E(t)+")",E(e)])},atom:function(t){return i(t)}},function(){return E(t)})}function split_lines(t,e){var n=[0];return jsp.parse(function(){function i(t){return t.pos-a}function r(t){a=t.pos,n.push(a)}function o(){var t=u.apply(this,arguments);t:if((!s||"keyword"!=s.type)&&i(t)>e)switch(t.type){case"keyword":case"atom":case"name":case"punc":r(t);break t}return s=t,t}var s,u=jsp.tokenizer(t),a=0;return o.context=function(){return u.context.apply(this,arguments)},o}()),n.map(function(e,i){return t.substring(e,n[i+1]||t.length)}).join("\n")}function repeat_string(t,e){if(0>=e)return"";if(1==e)return t;var n=repeat_string(t,e>>1);return n+=n,1&e&&(n+=t),n}function defaults(t,e){var n={};t===!0&&(t={});for(var i in e)HOP(e,i)&&(n[i]=t&&HOP(t,i)?t[i]:e[i]);return n}function is_identifier(t){return/^[a-z_$][a-z0-9_$]*$/i.test(t)&&"this"!=t&&!HOP(jsp.KEYWORDS_ATOM,t)&&!HOP(jsp.RESERVED_WORDS,t)&&!HOP(jsp.KEYWORDS,t)}function HOP(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function noop(){}function tilt(){arguments.length=0}function cloneObject(t){if(null==t||"object"!=typeof t)return t;var e=new t.constructor;for(var n in t)t.hasOwnProperty(n)&&(e[n]="object"==typeof t[n]?cloneObject(t[n]):t[n]);return e}function construct(t){var e,n;if(t.object.$class in constructors)e=new constructors[t.object.$class](t);else{if(!(n=engine.loadComponent(t.object.$class)))return void console.log("No constructor found for "+t.object.$class);1!==n.$children.length&&console.error("QML components may contain only one root element!");var e=new QMLComponent({object:n,context:t.context}).createObject(t.parent);QMLBaseObject.call(e,t),"undefined"!=typeof e.dom&&(e.dom.className+=" "+t.object.$class+(t.object.id?" "+t.object.id:""))}return t.object.id&&(t.context[t.object.id]=e),applyProperties(t.object,e,e,t.context),e}function createSimpleProperty(t,e,n,i){var r,o,s=new QMLProperty(t,e,n);("undefined"==typeof i||null==i)&&(i="rw"),e[n+"Changed"]=s.changed,e.$properties[n]=s,r=function(){return e.$properties[n].get()},o="rw"==i?function(t){return e.$properties[n].set(t)}:function(t){if(1!=e.$canEditReadOnlyProperties)throw"property '"+n+"' has read only access";return e.$properties[n].set(t)},setupGetterSetter(e,n,r,o),e.$isComponentRoot&&setupGetterSetter(e.$context,n,r,o)}function applyProperties(t,e,n,i){var r;n=n||e;for(r in t){var o=t[r];if("id"!=r&&"$"!=r[0])if(0!=r.indexOf("on")||r[2].toUpperCase()!=r[2]){if(o instanceof Object){if(o instanceof QMLSignalDefinition){e[r]=Signal(o.parameters),e.$isComponentRoot&&(i[r]=e[r]);continue}if(o instanceof QMLMethod){o.compile(),e[r]=o.eval(n,i),e.$isComponentRoot&&(i[r]=e[r]);continue}if(o instanceof QMLAliasDefinition){createSimpleProperty("alias",e,r),e.$properties[r].componentScope=i,e.$properties[r].val=o,e.$properties[r].get=function(){var t=this.componentScope[this.val.objectName];return this.val.propertyName?t.$properties[this.val.propertyName].get():t},e.$properties[r].set=function(t,e,n,i){if(!this.val.propertyName)throw"Cannot set alias property pointing to an QML object.";this.componentScope[this.val.objectName].$properties[this.val.propertyName].set(t,e,n,i)};continue}if(o instanceof QMLPropertyDefinition){createSimpleProperty(o.type,e,r),e.$properties[r].set(o.value,!0,n,i);continue}if(e[r]&&o instanceof QMLMetaPropertyGroup){applyProperties(o,e[r],n,i);continue}}e.$properties&&r in e.$properties?e.$properties[r].set(o,!0,n,i):r in e?e[r]=o:e.$setCustomData?e.$setCustomData(r,o):console.warn('Cannot assign to non-existent property "'+r+'". Ignoring assignment.')}else{var s=r[2].toLowerCase()+r.slice(3);if(!e[s]){console.warn("No signal called "+s+" found!");continue}if("function"!=typeof e[s].connect){console.warn(s+" is not a signal!");continue}if(!o.eval){var u="";for(var a in e[s].parameters)u+=0==a?"":", ",u+=e[s].parameters[a].name;o.src="(function("+u+") {"+o.src+"})",o["function"]=!1,o.compile()}e[s].connect(e,o.eval(n,i))}}if(t.$children&&0!==t.$children.length){if(!e.$defaultProperty)throw"Cannot assign to unexistant default property";e.$properties[e.$defaultProperty].set(t.$children,!0,n,i)}t.$defaultProperty&&(e.$defaultProperty=t.$defaultProperty),"undefined"!=typeof e.completed&&0==e.completedAlreadyCalled&&(e.completedAlreadyCalled=!0,e.completed())}function unboundMethod(){console.log("Unbound method for",this)}function fontCss(t){var e="";return e+=t.italic?"italic ":"normal ",e+="smallcaps"==t.capitalization?"small-caps ":"normal ",e+=t.weight==Font.Bold||t.weight==Font.DemiBold||t.weight==Font.Black||t.bold?"bold ":"normal ",e+=t.pixelSize!==Undefined?t.pixelSize+"px ":(t.pointSize||10)+"pt ",e+=this.lineHeight!==Undefined?this.lineHeight+"px ":" ",e+=(t.family||"sans-serif")+" "}function updateCss(t){var e=["border","borderRadius","borderWidth","borderColor","backgroundColor"],i=t.dom.firstChild.style;for(n=0;n<e.length;n++){var r=e[n],o=t.css[r];o&&(i[r]=o,t.css[r]=null)}}function objList(t,e){var n=[e];for(o in t){var i=t[o];i&&n.push(o+" : "+i)}return n}function logCss(){var t=objList(self.dom.style);console.log(t.join("\n"));var e=objList(self.dom.firstChild.style);console.log(e.join("\n"))}function descr(t,e,n){var i,r=t+": ["+e.id+"] ";for(i=0;i<n.length;i++)r+=n[i]+"="+e[n[i]]+" ";console.log(r,e)}function QMLBaseObject(t){QObject.call(this,t.parent);var e;this.$draw||(this.$draw=noop),this.$isComponentRoot||(this.$isComponentRoot=t.isComponentRoot),this.$context=t.context,this.Component=new QObject(this),this.Component.completed=Signal([]),engine.completedSignals.push(this.Component.completed),this.completed=this.Component.completed;var n=[];for(var i in t.object)!t.object.hasOwnProperty(i)||"undefined"==typeof t.object[i]||null==t.object[i]||"QMLPropertyDefinition"!=t.object[i].__proto__.constructor.name&&"QMLAliasDefinition"!=t.object[i].__proto__.constructor.name||n.push(i);this.Keys=new QObject(this),this.Keys.asteriskPresed=Signal(),this.Keys.backPressed=Signal(),this.Keys.backtabPressed=Signal(),this.Keys.callPressed=Signal(),this.Keys.cancelPressed=Signal(),this.Keys.deletePressed=Signal();for(var e=0;10>e;++e)this.Keys["digit"+e+"Pressed"]=Signal();this.Keys.escapePressed=Signal(),this.Keys.flipPressed=Signal(),this.Keys.hangupPressed=Signal(),this.Keys.leftPressed=Signal(),this.Keys.menuPressed=Signal(),this.Keys.noPressed=Signal(),this.Keys.pressed=Signal(),this.Keys.released=Signal(),this.Keys.returnPressed=Signal(),this.Keys.rightPressed=Signal(),this.Keys.selectPressed=Signal(),this.Keys.spacePressed=Signal(),this.Keys.tabPressed=Signal(),this.Keys.upPressed=Signal(),this.Keys.volumeDownPressed=Signal(),this.Keys.volumeUpPressed=Signal(),this.Keys.yesPressed=Signal(),this.getAttributes=function(){return n}}function QMLColor(t){return t}function QMLInteger(t){return 0|t}function QMLList(t){var e=[];if(t.object instanceof Array)for(var n in t.object)e.push(construct({object:t.object[n],parent:t.parent,context:t.context}));else t.object instanceof QMLMetaElement&&e.push(construct({object:t.object,parent:t.parent,context:t.context}));return e}function QMLPositioner(t){QMLItem.call(this,t),createSimpleProperty("int",this,"spacing"),this.spacingChanged.connect(this,this.layoutChildren),this.childrenChanged.connect(this,this.layoutChildren),this.childrenChanged.connect(this,QMLPositioner.slotChildrenChanged),this.spacing=0}function QMLProperty(t,e,n){
this.obj=e,this.name=n,this.changed=Signal([],{obj:e}),this.binding=null,this.objectScope=null,this.componentScope=null,this.value=void 0,this.type=t,this.animation=null,this.$tidyupList=[]}function QMLVariant(t){return t}function QObject(t){this.$parent=t,t&&t.$tidyupList&&t.$tidyupList.push(this),this.$tidyupList||(this.$tidyupList=[]),this.$properties||(this.$properties={}),this.objectId=objectIds++,this.$delete=function(){for(;this.$tidyupList.length>0;){var t=this.$tidyupList[0];t.$delete?t.$delete():t.disconnect(this)}for(var e in this.$properties)for(var n=this.$properties[e];n.$tidyupList.length>0;)n.$tidyupList[0].disconnect(n);this.$parent&&this.$parent.$tidyupList&&this.$parent.$tidyupList.splice(this.$parent.$tidyupList.indexOf(this),1)}}function updateHGeometry(t,e,n){var i=this.anchors||this;if(!this.$updatingGeometry){this.$updatingGeometry=!0;var r,o,s,a,c,l,h,p=i.leftMargin||i.margins,d=i.rightMargin||i.margins;this.$isUsingImplicitWidth&&"implicitWidth"==n?s=this.implicitWidth:"width"==n&&(this.$isUsingImplicitWidth=!1),void 0!==(r=i.fill)?(r.$properties.left.changed.isConnected(this,updateHGeometry)||r.$properties.left.changed.connect(this,updateHGeometry),r.$properties.width.changed.isConnected(this,updateHGeometry)||r.$properties.width.changed.connect(this,updateHGeometry),this.$isUsingImplicitWidth=!1,s=r.width-p-d,a=r.left-(this.parent?this.parent.left:0)+p,c=r.left+p,h=r.right-d,l=(c+h)/2):void 0!==(r=i.centerIn)?(r.$properties.horizontalCenter.changed.isConnected(this,updateHGeometry)||r.$properties.horizontalCenter.changed.connect(this,updateHGeometry),o=s||this.width,l=r.horizontalCenter,a=l-o/2-(this.parent?this.parent.left:0),c=l-o/2,h=l+o/2):void 0!==(r=i.left)?(c=r+p,void 0!==(u=i.right)?(h=u-d,this.$isUsingImplicitWidth=!1,s=h-c,a=c-(this.parent?this.parent.left:0),l=(h+c)/2):void 0!==(l=i.horizontalCenter)?(this.$isUsingImplicitWidth=!1,s=2*(l-c),a=c-(this.parent?this.parent.left:0),h=2*l-c):(o=s||this.width,a=c-(this.parent?this.parent.left:0),h=c+o,l=c+o/2)):void 0!==(r=i.right)?(h=r-d,void 0!==(l=i.horizontalCenter)?(this.$isUsingImplicitWidth=!1,s=2*(h-l),a=2*l-h-(this.parent?this.parent.left:0),c=2*l-h):(o=s||this.width,a=h-o-(this.parent?this.parent.left:0),c=h-o,l=h-o/2)):void 0!==(l=i.horizontalCenter)?(o=s||this.width,a=l-o/2-(this.parent?this.parent.left:0),c=l-o/2,h=l+o/2):(this.parent&&!this.parent.$properties.left.changed.isConnected(this,updateHGeometry)&&this.parent.$properties.left.changed.connect(this,updateHGeometry),o=s||this.width,c=this.x+(this.parent?this.parent.left:0),h=c+o,l=c+o/2),void 0!==c&&(this.left=c),void 0!==l&&(this.horizontalCenter=l),void 0!==h&&(this.right=h),void 0!==a&&(this.x=a),void 0!==s&&(this.width=s),this.$updatingGeometry=!1}}function updateVGeometry(t,e,n){var i=this.anchors||this;if(!this.$updatingGeometry){this.$updatingGeometry=!0;var r,o,s,a,c,l,h,p=i.topMargin||i.margins,d=i.bottomMargin||i.margins;this.$isUsingImplicitHeight&&"implicitHeight"==n?s=this.implicitHeight:"height"==n&&(this.$isUsingImplicitHeight=!1),void 0!==(r=i.fill)?(r.$properties.top.changed.isConnected(this,updateVGeometry)||r.$properties.top.changed.connect(this,updateVGeometry),r.$properties.height.changed.isConnected(this,updateVGeometry)||r.$properties.height.changed.connect(this,updateVGeometry),this.$isUsingImplicitHeight=!1,s=r.height-p-d,a=r.top-(this.parent?this.parent.top:0)+p,c=r.top+p,h=r.bottom-d,l=(c+h)/2):void 0!==(r=i.centerIn)?(r.$properties.verticalCenter.changed.isConnected(this,updateVGeometry)||r.$properties.verticalCenter.changed.connect(this,updateVGeometry),o=s||this.height,l=r.verticalCenter,a=l-o/2-(this.parent?this.parent.top:0),c=l-o/2,h=l+o/2):void 0!==(r=i.top)?(c=r+p,void 0!==(u=i.bottom)?(h=u-d,this.$isUsingImplicitHeight=!1,s=h-c,a=c-(this.parent?this.parent.top:0),l=(h+c)/2):void 0!==(l=i.verticalCenter)?(this.$isUsingImplicitHeight=!1,s=2*(l-c),a=c-(this.parent?this.parent.top:0),h=2*l-c):(o=s||this.height,a=c-(this.parent?this.parent.top:0),h=c+o,l=c+o/2)):void 0!==(r=i.bottom)?(h=r-d,void 0!==(l=i.verticalCenter)?(this.$isUsingImplicitHeight=!1,s=2*(h-l),a=2*l-h-(this.parent?this.parent.top:0),c=2*l-h):(o=s||this.height,a=h-o-(this.parent?this.parent.top:0),c=h-o,l=h-o/2)):void 0!==(l=i.verticalCenter)?(o=s||this.height,a=l-o/2-(this.parent?this.parent.top:0),c=l-o/2,h=l+o/2):(this.parent&&!this.parent.$properties.top.changed.isConnected(this,updateVGeometry)&&this.parent.$properties.top.changed.connect(this,updateVGeometry),o=s||this.height,c=this.y+(this.parent?this.parent.top:0),h=c+o,l=c+o/2),void 0!==c&&(this.top=c),void 0!==l&&(this.verticalCenter=l),void 0!==h&&(this.bottom=h),void 0!==a&&(this.y=a),void 0!==s&&(this.height=s),this.$updatingGeometry=!1}}function QMLButton(t){this.dom=document.createElement("button"),QMLItem.call(this,t);var e=this;this.dom.style.pointerEvents="auto",this.dom.innerHTML="<span></span>",createSimpleProperty("string",this,"text"),this.clicked=Signal(),this.Component.completed.connect(this,function(){this.implicitWidth=this.dom.firstChild.offsetWidth+20,this.implicitHeight=this.dom.firstChild.offsetHeight+5}),this.textChanged.connect(this,function(t){this.dom.firstChild.innerHTML=t,this.implicitWidth=this.dom.firstChild.offsetWidth+20,this.implicitHeight=this.dom.firstChild.offsetHeight+5}),this.dom.onclick=function(t){e.clicked()}}function QMLComponent(t){this.$metaObject=constructors[t.object.$class]==QMLComponent?t.object.$children[0]:t.object,this.$context=t.context;var e=[],n=function(t){e.push(t)}.bind(this);this.finalizeImports=function(){for(var t=0;t<e.length;++t){var n,i=e[t],r=i.subject;"undefined"!=typeof qmlEngine.basePath&&(r=qmlEngine.basePath+r),n="undefined"!=typeof qrc[r]?qrc[r]:jsparse(getUrlContents(r));var o=qmlEngine.rootContext();o[i.alias]={},importJavascriptInContext(n,o[i.alias])}}.bind(this);var i=function(t){var e,n=t.subject;"undefined"!=typeof qmlEngine.basePath&&(n=qmlEngine.basePath+n),e=getUrlContents(n),qmlEngine.loadQML(e)};if(t.object.$imports instanceof Array){for(var r=[],o=function(t){/\.js$/.test(t.subject)?n(t):/\.qml$/.test(t.subject)?i(t):r.push(t)}.bind(this),s=0;s<t.object.$imports.length;++s)o(t.object.$imports[s]);loadImports(this,r)}}function QMLItem(t){QMLBaseObject.call(this,t);if(this.completed=Signal(),this.completedAlreadyCalled=!1,null===this.$parent){this.dom=engine.rootElement||document.body,this.dom.innerHTML="";var e=this;void 0==engine.rootElement?window.onresize=function(){e.implicitHeight=window.innerHeight,e.implicitWidth=window.innerWidth}:(this.implicitHeight=this.dom.offsetHeight,this.implicitWidth=this.dom.offsetWidth),this.dom.style.position="relative",this.dom.style.top="0",this.dom.style.left="0",this.dom.style.overflow="hidden"}else this.dom||(this.dom=document.createElement("div")),this.dom.style.position="absolute";this.dom.style.pointerEvents="none",this.dom.className=t.object.$class+(this.id?" "+this.id:""),this.dom.qml=this,this.css=this.dom.style,createSimpleProperty("list",this,"data"),this.$defaultProperty="data",createSimpleProperty("list",this,"children"),createSimpleProperty("list",this,"resources"),createSimpleProperty("Item",this,"parent"),this.children=[],this.resources=[],this.parentChanged.connect(this,function(t,e){e&&(e.children.splice(e.children.indexOf(this),1),e.childrenChanged(),e.dom.removeChild(this.dom)),t&&-1==t.children.indexOf(this)&&(t.children.push(this),t.childrenChanged()),t&&t.dom.appendChild(this.dom)}),this.parentChanged.connect(this,updateHGeometry),this.parentChanged.connect(this,updateVGeometry),this.dataChanged.connect(this,function(t){for(var e in t){var n=t[e];n.hasOwnProperty("parent")?n.parent=this:this.resources.push(n)}}),this.$isComponentRoot&&createSimpleProperty("var",this,"activeFocus"),createSimpleProperty("real",this,"x"),createSimpleProperty("real",this,"y"),createSimpleProperty("real",this,"width"),createSimpleProperty("real",this,"height"),createSimpleProperty("real",this,"implicitWidth"),createSimpleProperty("real",this,"implicitHeight"),createSimpleProperty("real",this,"left"),createSimpleProperty("real",this,"right"),createSimpleProperty("real",this,"top"),createSimpleProperty("real",this,"bottom"),createSimpleProperty("real",this,"horizontalCenter"),createSimpleProperty("real",this,"verticalCenter"),createSimpleProperty("real",this,"rotation"),createSimpleProperty("real",this,"scale"),createSimpleProperty("real",this,"z"),createSimpleProperty("list",this,"transform"),createSimpleProperty("bool",this,"visible"),createSimpleProperty("real",this,"opacity"),createSimpleProperty("bool",this,"clip"),createSimpleProperty("bool",this,"focus"),this.xChanged.connect(this,updateHGeometry),this.yChanged.connect(this,updateVGeometry),this.widthChanged.connect(this,updateHGeometry),this.heightChanged.connect(this,updateVGeometry),this.implicitWidthChanged.connect(this,updateHGeometry),this.implicitHeightChanged.connect(this,updateVGeometry),this.focus=!1,this.setupFocusOnDom=function(t){var e=function(){var t=document.activeElement==this.dom||document.activeElement==this.dom.firstChild;this.focus!=t&&(this.focus=t)}.bind(this);t.addEventListener("focus",e),t.addEventListener("blur",e)}.bind(this),this.focusChanged.connect(this,function(t){1==t?(null!=this.dom.firstChild&&this.dom.firstChild.focus(),document.qmlFocus=this,this.$context.activeFocus=this):document.qmlFocus==this&&(document.getElementsByTagName("BODY")[0].focus(),document.qmlFocus=qmlEngine.rootContext().base,this.$context.activeFocus=null)}.bind(this)),this.$isUsingImplicitWidth=!0,this.$isUsingImplicitHeight=!0,this.anchors=new QObject(this),createSimpleProperty("real",this.anchors,"left"),createSimpleProperty("real",this.anchors,"right"),createSimpleProperty("real",this.anchors,"top"),createSimpleProperty("real",this.anchors,"bottom"),createSimpleProperty("real",this.anchors,"horizontalCenter"),createSimpleProperty("real",this.anchors,"verticalCenter"),createSimpleProperty("real",this.anchors,"fill"),createSimpleProperty("real",this.anchors,"centerIn"),createSimpleProperty("real",this.anchors,"margins"),createSimpleProperty("real",this.anchors,"leftMargin"),createSimpleProperty("real",this.anchors,"rightMargin"),createSimpleProperty("real",this.anchors,"topMargin"),createSimpleProperty("real",this.anchors,"bottomMargin"),this.anchors.leftChanged.connect(this,updateHGeometry),this.anchors.rightChanged.connect(this,updateHGeometry),this.anchors.topChanged.connect(this,updateVGeometry),this.anchors.bottomChanged.connect(this,updateVGeometry),this.anchors.horizontalCenterChanged.connect(this,updateHGeometry),this.anchors.verticalCenterChanged.connect(this,updateVGeometry),this.anchors.fillChanged.connect(this,updateHGeometry),this.anchors.fillChanged.connect(this,updateVGeometry),this.anchors.centerInChanged.connect(this,updateHGeometry),this.anchors.centerInChanged.connect(this,updateVGeometry),this.anchors.leftMarginChanged.connect(this,updateHGeometry),this.anchors.rightMarginChanged.connect(this,updateHGeometry),this.anchors.topMarginChanged.connect(this,updateVGeometry),this.anchors.bottomMarginChanged.connect(this,updateVGeometry),this.anchors.marginsChanged.connect(this,updateHGeometry),this.anchors.marginsChanged.connect(this,updateVGeometry),createSimpleProperty("list",this,"states"),createSimpleProperty("string",this,"state"),createSimpleProperty("list",this,"transitions"),this.stateChanged.connect(this,function(t,e){var n,i,r,o,s;for(r=0;r<this.states.length;r++)this.states[r].name===t?i=this.states[r]:this.states[r].name===e&&(n=this.states[r]);var u=this.$revertActions.slice();for(r in u){var a=u[r];a.from=a.target[a.property]}if(i){var c=i.$getAllChanges();for(r=0;r<c.length;r++){var l=c[r];for(o=0;o<l.$actions.length;o++){var h=l.$actions[o],a={target:l.target,property:h.property,origValue:l.target.$properties[h.property].binding||l.target.$properties[h.property].val,value:h.value,from:l.target[h.property],to:void 0,explicit:l.explicit},p=!1;for(s in u)if(u[s].target==a.target&&u[s].property==a.property){p=!0,u[s]=a;break}p||u.push(a);var p=!1;for(s=0;s<this.$revertActions.length;s++)if(this.$revertActions[s].target==l.target&&this.$revertActions[s].property==h.property){l.restoreEntryValues||this.$revertActions.splice(s,1),p=!0;break}!p&&l.restoreEntryValues&&this.$revertActions.push({target:l.target,property:h.property,value:l.target.$properties[h.property].binding||l.target.$properties[h.property].val,from:void 0,to:l.target[h.property]})}}}for(r in u){var a=u[r];a.target.$properties[a.property].set(a.value,!1,a.target,i?i.$context:a.target.$context)}for(r in u){var a=u[r];a.to=a.target[a.property],a.explicit&&(a.target[a.property]=a.target[a.property],a.value=a.target[a.property])}for(var d,f=0,r=0;r<this.transitions.length;r++){this.transitions[r].$stop();var m=this.transitions[r],g=0;if(m.from==e||m.reversible&&m.from==t)g+=2;else{if("*"!=m.from)continue;g++}if(m.to==t||m.reversible&&m.to==e)g+=2;else{if("*"!=m.to)continue;g++}g>f&&(f=g,d=m)}d&&d.$start(u)});var n=getConstructor("QtQuick","2.0","Rotation"),i=getConstructor("QtQuick","2.0","Scale"),r=getConstructor("QtQuick","2.0","Translate");this.$updateTransform=function(){for(var t="rotate("+this.rotation+"deg) scale("+this.scale+")",e="",o="preserve-3d",s=0;s<this.transform.length;s++){var u=this.transform[s];u instanceof n?t+=" rotate3d("+u.axis.x+", "+u.axis.y+", "+u.axis.z+", "+u.angle+"deg)":u instanceof i?t+=" scale("+u.xScale+", "+u.yScale+")":u instanceof r?t+=" translate("+u.x+"px, "+u.y+"px)":"undefined"!=typeof u.transformType?"filter"==u.transformType&&(e+=u.operation+"("+u.parameters+") "):"string"==typeof u&&(t+=u)}"number"==typeof this.z&&(t+=" translate3d(0, 0, "+this.z+"px)"),this.dom.style.transform=t,this.dom.style.transformStyle=o,this.dom.style.MozTransform=t,this.dom.style.webkitTransform=t,this.dom.style.webkitTransformStyle=o,this.dom.style.OTransform=t,this.dom.style.msTransform=t,this.dom.style.filter=e,this.dom.style.msFilter=e,this.dom.style.webkitFilter=e,this.dom.style.MozFilter=e},this.rotationChanged.connect(this,this.$updateTransform),this.scaleChanged.connect(this,this.$updateTransform),this.transformChanged.connect(this,this.$updateTransform),this.visibleChanged.connect(this,function(t){this.dom.style.visibility=t?"inherit":"hidden"}),this.opacityChanged.connect(this,function(t){this.dom.style.opacity=t}),this.clipChanged.connect(this,function(t){this.dom.style.overflow=t?"hidden":"visible"}),this.zChanged.connect(this,function(t){this.$updateTransform()}),this.xChanged.connect(this,function(t){this.dom.style.left=t+"px"}),this.yChanged.connect(this,function(t){this.dom.style.top=t+"px"}),this.widthChanged.connect(this,function(t){this.dom.style.width=t?t+"px":"auto"}),this.heightChanged.connect(this,function(t){this.dom.style.height=t?t+"px":"auto"}),this.implicitHeight=0,this.implicitWidth=0,this.spacing=0,this.x=0,this.y=0,this.anchors.margins=0,this.visible=!0,this.opacity=1,this.$revertActions=[],this.states=[],this.transitions=[],this.state="",this.transform=[],this.rotation=0,this.scale=1,null===this.$parent&&void 0==engine.rootElement&&window.onresize(),this.$draw=function(t){var e;if(this.visible!==!1){if(this.$drawItem){var n=(this.rotation||0)/180*Math.PI,i=Math.sin(n)*this.width,r=Math.sin(n)*this.height;t.save(),t.globalAlpha=this.opacity,t.translate(this.left+i,this.top+r),t.rotate(n),t.translate(-this.left,-this.top),this.$drawItem(t),t.translate(-i,-r),t.restore()}for(e=0;e<this.children.length;e++)this.children[e]&&this.children[e].$draw&&this.children[e].$draw(t)}}}function QMLPropertyChanges(t){QMLBaseObject.call(this,t),createSimpleProperty("QtObject",this,"target"),createSimpleProperty("bool",this,"explicit"),createSimpleProperty("bool",this,"restoreEntryValues"),this.explicit=!1,this.restoreEntryValues=!0,this.$actions=[],this.$setCustomData=function(t,e){this.$actions.push({property:t,value:e})}}function QMLColumn(t){QMLPositioner.call(this,t)}function QMLFlow(t){QMLPositioner.call(this,t),this.Flow={LeftToRight:0,TopToBottom:1},createSimpleProperty("enum",this,"flow"),createSimpleProperty("enum",this,"layoutDirection"),this.flowChanged.connect(this,this.layoutChildren),this.layoutDirectionChanged.connect(this,this.layoutChildren),this.widthChanged.connect(this,this.layoutChildren),this.flow=0,this.layoutDirection=0}function QMLGrid(t){QMLPositioner.call(this,t),this.Grid={LeftToRight:0,TopToBottom:1},createSimpleProperty("int",this,"columns"),createSimpleProperty("int",this,"rows"),createSimpleProperty("enum",this,"flow"),createSimpleProperty("enum",this,"layoutDirection"),this.columnsChanged.connect(this,this.layoutChildren),this.rowsChanged.connect(this,this.layoutChildren),this.flowChanged.connect(this,this.layoutChildren),this.layoutDirectionChanged.connect(this,this.layoutChildren),this.flow=0,this.layoutDirection=0}function QMLRow(t){QMLPositioner.call(this,t),createSimpleProperty("enum",this,"layoutDirection"),this.layoutDirectionChanged.connect(this,this.layoutChildren),this.layoutDirection=0}Function.prototype.bind=function(){}.bind||function(t){function e(){}if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var n=[].slice,i=n.call(arguments,1),r=this,o=function(){return r.apply(this instanceof e?this:t||window,i.concat(n.call(arguments)))};return e.prototype=this.prototype,o.prototype=new e,o},global.QMLBinding=function(t,e){this["function"]=e&&"block"==e[0]&&e[1][0]&&"label"!==e[1][0][0],this.src=t},global.QMLBinding.prototype.toJSON=function(){return{src:this.src,deps:JSON.stringify(this.deps),tree:JSON.stringify(this.tree)}},global.QMLBinding.prototype.compile=function(){var bindSrc=this["function"]?"(function(o, c) { with(c) with(o) "+this.src+"})":"(function(o, c) { with(c) with(o) return "+this.src+"})";this.eval=eval(bindSrc)};var AST_Token=DEFNODE("Token","type value line col pos endline endcol endpos nlb comments_before file",{},null),AST_Node=DEFNODE("Node","start end",{clone:function(){return new this.CTOR(this)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},_walk:function(t){return t._visit(this)},walk:function(t){return this._walk(t)}},null);AST_Node.warn_function=null,AST_Node.warn=function(t,e){AST_Node.warn_function&&AST_Node.warn_function(string_template(t,e))};var AST_Statement=DEFNODE("Statement",null,{$documentation:"Base class of all statements"}),AST_Debugger=DEFNODE("Debugger",null,{$documentation:"Represents a debugger statement"},AST_Statement),AST_Directive=DEFNODE("Directive","value scope quote",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",scope:"[AST_Scope/S] The scope that this directive affects",quote:"[string] the original quote character"}},AST_Statement),AST_SimpleStatement=DEFNODE("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_walk:function(t){return t._visit(this,function(){this.body._walk(t)})}},AST_Statement),AST_Block=DEFNODE("Block","body",{$documentation:"A body of statements (usually bracketed)",$propdoc:{body:"[AST_Statement*] an array of statements"},_walk:function(t){return t._visit(this,function(){walk_body(this,t)})}},AST_Statement),AST_BlockStatement=DEFNODE("BlockStatement",null,{$documentation:"A block statement"},AST_Block),AST_EmptyStatement=DEFNODE("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)",_walk:function(t){return t._visit(this)}},AST_Statement),AST_StatementWithBody=DEFNODE("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_walk:function(t){return t._visit(this,function(){this.body._walk(t)})}},AST_Statement),AST_LabeledStatement=DEFNODE("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_walk:function(t){return t._visit(this,function(){this.label._walk(t),this.body._walk(t)})}},AST_StatementWithBody),AST_IterationStatement=DEFNODE("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},AST_StatementWithBody),AST_DWLoop=DEFNODE("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"}},AST_IterationStatement),AST_Do=DEFNODE("Do",null,{$documentation:"A `do` statement",_walk:function(t){return t._visit(this,function(){this.body._walk(t),this.condition._walk(t)})}},AST_DWLoop),AST_While=DEFNODE("While",null,{$documentation:"A `while` statement",_walk:function(t){return t._visit(this,function(){this.condition._walk(t),this.body._walk(t)})}},AST_DWLoop),AST_For=DEFNODE("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_walk:function(t){return t._visit(this,function(){this.init&&this.init._walk(t),this.condition&&this.condition._walk(t),this.step&&this.step._walk(t),this.body._walk(t)})}},AST_IterationStatement),AST_ForIn=DEFNODE("ForIn","init name object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",name:"[AST_SymbolRef?] the loop variable, only if `init` is AST_Var",object:"[AST_Node] the object that we're looping through"},_walk:function(t){return t._visit(this,function(){this.init._walk(t),this.object._walk(t),this.body._walk(t)})}},AST_IterationStatement),AST_With=DEFNODE("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_walk:function(t){return t._visit(this,function(){this.expression._walk(t),this.body._walk(t)})}},AST_StatementWithBody),AST_Scope=DEFNODE("Scope","directives variables functions uses_with uses_eval parent_scope enclosed cname",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{directives:"[string*/S] an array of directives declared in this scope",variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",functions:"[Object/S] like `variables`, but only lists function declarations",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST_Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"}},AST_Block),AST_Toplevel=DEFNODE("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap_enclose:function(t){var e=this,n=[],i=[];t.forEach(function(t){var e=t.lastIndexOf(":");n.push(t.substr(0,e)),i.push(t.substr(e+1))});var r="(function("+i.join(",")+"){ '$ORIG'; })("+n.join(",")+")";return r=parse(r),r=r.transform(new TreeTransformer(function(t){return t instanceof AST_Directive&&"$ORIG"==t.value?MAP.splice(e.body):void 0}))},wrap_commonjs:function(t,e){var n=this,i=[];e&&(n.figure_out_scope(),n.walk(new TreeWalker(function(t){t instanceof AST_SymbolDeclaration&&t.definition().global&&(find_if(function(e){return e.name==t.name},i)||i.push(t))})));var r="(function(exports, global){ global['"+t+"'] = exports; '$ORIG'; '$EXPORTS'; }({}, (function(){return this}())))";return r=parse(r),r=r.transform(new TreeTransformer(function(t){if(t instanceof AST_SimpleStatement&&(t=t.body,t instanceof AST_String))switch(t.getValue()){case"$ORIG":return MAP.splice(n.body);case"$EXPORTS":var e=[];return i.forEach(function(t){e.push(new AST_SimpleStatement({body:new AST_Assign({left:new AST_Sub({expression:new AST_SymbolRef({name:"exports"}),property:new AST_String({value:t.name})}),operator:"=",right:new AST_SymbolRef(t)})}))}),MAP.splice(e)}}))}},AST_Scope),AST_Lambda=DEFNODE("Lambda","name argnames uses_arguments",{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[AST_SymbolFunarg*] array of function arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},_walk:function(t){return t._visit(this,function(){this.name&&this.name._walk(t),this.argnames.forEach(function(e){e._walk(t)}),walk_body(this,t)})}},AST_Scope),AST_Accessor=DEFNODE("Accessor",null,{$documentation:"A setter/getter function.  The `name` property is always null."},AST_Lambda),AST_Function=DEFNODE("Function",null,{$documentation:"A function expression"},AST_Lambda),AST_Defun=DEFNODE("Defun",null,{$documentation:"A function definition"},AST_Lambda),AST_Jump=DEFNODE("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},AST_Statement),AST_Exit=DEFNODE("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_walk:function(t){return t._visit(this,this.value&&function(){this.value._walk(t)})}},AST_Jump),AST_Return=DEFNODE("Return",null,{$documentation:"A `return` statement"},AST_Exit),AST_Throw=DEFNODE("Throw",null,{$documentation:"A `throw` statement"},AST_Exit),AST_LoopControl=DEFNODE("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_walk:function(t){return t._visit(this,this.label&&function(){this.label._walk(t)})}},AST_Jump),AST_Break=DEFNODE("Break",null,{$documentation:"A `break` statement"},AST_LoopControl),AST_Continue=DEFNODE("Continue",null,{$documentation:"A `continue` statement"},AST_LoopControl),AST_If=DEFNODE("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_walk:function(t){return t._visit(this,function(){this.condition._walk(t),this.body._walk(t),this.alternative&&this.alternative._walk(t)})}},AST_StatementWithBody),AST_Switch=DEFNODE("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_walk:function(t){return t._visit(this,function(){this.expression._walk(t),walk_body(this,t)})}},AST_Block),AST_SwitchBranch=DEFNODE("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},AST_Block),AST_Default=DEFNODE("Default",null,{$documentation:"A `default` switch branch"},AST_SwitchBranch),AST_Case=DEFNODE("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_walk:function(t){return t._visit(this,function(){this.expression._walk(t),walk_body(this,t)})}},AST_SwitchBranch),AST_Try=DEFNODE("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_walk:function(t){return t._visit(this,function(){walk_body(this,t),this.bcatch&&this.bcatch._walk(t),this.bfinally&&this.bfinally._walk(t)})}},AST_Block),AST_Catch=DEFNODE("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST_SymbolCatch] symbol for the exception"},_walk:function(t){return t._visit(this,function(){this.argname._walk(t),walk_body(this,t)})}},AST_Block),AST_Finally=DEFNODE("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},AST_Block),AST_Definitions=DEFNODE("Definitions","definitions",{$documentation:"Base class for `var` or `const` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_walk:function(t){return t._visit(this,function(){this.definitions.forEach(function(e){e._walk(t)})})}},AST_Statement),AST_Var=DEFNODE("Var",null,{$documentation:"A `var` statement"},AST_Definitions),AST_Const=DEFNODE("Const",null,{$documentation:"A `const` statement"},AST_Definitions),AST_VarDef=DEFNODE("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_SymbolVar|AST_SymbolConst] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_walk:function(t){return t._visit(this,function(){this.name._walk(t),this.value&&this.value._walk(t)})}}),AST_Call=DEFNODE("Call","expression args",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},_walk:function(t){return t._visit(this,function(){this.expression._walk(t),this.args.forEach(function(e){e._walk(t)})})}}),AST_New=DEFNODE("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},AST_Call),AST_Seq=DEFNODE("Seq","car cdr",{$documentation:"A sequence expression (two comma-separated expressions)",$propdoc:{car:"[AST_Node] first element in sequence",cdr:"[AST_Node] second element in sequence"},$cons:function(t,e){var n=new AST_Seq(t);return n.car=t,n.cdr=e,n},$from_array:function(t){if(0==t.length)return null;if(1==t.length)return t[0].clone();for(var e=null,n=t.length;--n>=0;)e=AST_Seq.cons(t[n],e);for(var i=e;i;){if(i.cdr&&!i.cdr.cdr){i.cdr=i.cdr.car;break}i=i.cdr}return e},to_array:function(){for(var t=this,e=[];t;){if(e.push(t.car),t.cdr&&!(t.cdr instanceof AST_Seq)){e.push(t.cdr);break}t=t.cdr}return e},add:function(t){for(var e=this;e;){if(!(e.cdr instanceof AST_Seq)){var n=AST_Seq.cons(e.cdr,t);return e.cdr=n}e=e.cdr}},_walk:function(t){return t._visit(this,function(){this.car._walk(t),this.cdr&&this.cdr._walk(t)})}}),AST_PropAccess=DEFNODE("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"}}),AST_Dot=DEFNODE("Dot",null,{$documentation:"A dotted property access expression",_walk:function(t){return t._visit(this,function(){this.expression._walk(t)})}},AST_PropAccess),AST_Sub=DEFNODE("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(t){return t._visit(this,function(){this.expression._walk(t),this.property._walk(t)})}},AST_PropAccess),AST_Unary=DEFNODE("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_walk:function(t){return t._visit(this,function(){this.expression._walk(t)})}}),AST_UnaryPrefix=DEFNODE("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},AST_Unary),AST_UnaryPostfix=DEFNODE("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},AST_Unary),AST_Binary=DEFNODE("Binary","left operator right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_walk:function(t){return t._visit(this,function(){this.left._walk(t),this.right._walk(t)})}}),AST_Conditional=DEFNODE("Conditional","condition consequent alternative",{
$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_walk:function(t){return t._visit(this,function(){this.condition._walk(t),this.consequent._walk(t),this.alternative._walk(t)})}}),AST_Assign=DEFNODE("Assign",null,{$documentation:"An assignment expression — `a = b + 5`"},AST_Binary),AST_Array=DEFNODE("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_walk:function(t){return t._visit(this,function(){this.elements.forEach(function(e){e._walk(t)})})}}),AST_Object=DEFNODE("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},_walk:function(t){return t._visit(this,function(){this.properties.forEach(function(e){e._walk(t)})})}}),AST_ObjectProperty=DEFNODE("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string] the property name converted to a string for ObjectKeyVal.  For setters and getters this is an arbitrary AST_Node.",value:"[AST_Node] property value.  For setters and getters this is an AST_Function."},_walk:function(t){return t._visit(this,function(){this.value._walk(t)})}}),AST_ObjectKeyVal=DEFNODE("ObjectKeyVal","quote",{$documentation:"A key: value object property",$propdoc:{quote:"[string] the original quote character"}},AST_ObjectProperty),AST_ObjectSetter=DEFNODE("ObjectSetter",null,{$documentation:"An object setter property"},AST_ObjectProperty),AST_ObjectGetter=DEFNODE("ObjectGetter",null,{$documentation:"An object getter property"},AST_ObjectProperty),AST_Symbol=DEFNODE("Symbol","scope name thedef",{$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"}),AST_SymbolAccessor=DEFNODE("SymbolAccessor",null,{$documentation:"The name of a property accessor (setter/getter function)"},AST_Symbol),AST_SymbolDeclaration=DEFNODE("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var/const, function name or argument, symbol in catch)",$propdoc:{init:"[AST_Node*/S] array of initializers for this declaration."}},AST_Symbol),AST_SymbolVar=DEFNODE("SymbolVar",null,{$documentation:"Symbol defining a variable"},AST_SymbolDeclaration),AST_SymbolConst=DEFNODE("SymbolConst",null,{$documentation:"A constant declaration"},AST_SymbolDeclaration),AST_SymbolFunarg=DEFNODE("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},AST_SymbolVar),AST_SymbolDefun=DEFNODE("SymbolDefun",null,{$documentation:"Symbol defining a function"},AST_SymbolDeclaration),AST_SymbolLambda=DEFNODE("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},AST_SymbolDeclaration),AST_SymbolCatch=DEFNODE("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},AST_SymbolDeclaration),AST_Label=DEFNODE("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},AST_Symbol),AST_SymbolRef=DEFNODE("SymbolRef",null,{$documentation:"Reference to some symbol (not definition/declaration)"},AST_Symbol),AST_LabelRef=DEFNODE("LabelRef",null,{$documentation:"Reference to a label symbol"},AST_Symbol),AST_This=DEFNODE("This",null,{$documentation:"The `this` symbol"},AST_Symbol),AST_Constant=DEFNODE("Constant",null,{$documentation:"Base class for all constants",getValue:function(){return this.value}}),AST_String=DEFNODE("String","value quote",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"}},AST_Constant),AST_Number=DEFNODE("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"}},AST_Constant),AST_RegExp=DEFNODE("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},AST_Constant),AST_Atom=DEFNODE("Atom",null,{$documentation:"Base class for atoms"},AST_Constant),AST_Null=DEFNODE("Null",null,{$documentation:"The `null` atom",value:null},AST_Atom),AST_NaN=DEFNODE("NaN",null,{$documentation:"The impossible value",value:0/0},AST_Atom),AST_Undefined=DEFNODE("Undefined",null,{$documentation:"The `undefined` value",value:void 0},AST_Atom),AST_Hole=DEFNODE("Hole",null,{$documentation:"A hole in an array",value:void 0},AST_Atom),AST_Infinity=DEFNODE("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},AST_Atom),AST_Boolean=DEFNODE("Boolean",null,{$documentation:"Base class for booleans"},AST_Atom),AST_False=DEFNODE("False",null,{$documentation:"The `false` atom",value:!1},AST_Boolean),AST_True=DEFNODE("True",null,{$documentation:"The `true` atom",value:!0},AST_Boolean);TreeWalker.prototype={_visit:function(t,e){this.stack.push(t);var n=this.visit(t,e?function(){e.call(t)}:noop);return!n&&e&&e.call(t),this.stack.pop(),n},parent:function(t){return this.stack[this.stack.length-2-(t||0)]},push:function(t){this.stack.push(t)},pop:function(){return this.stack.pop()},self:function(){return this.stack[this.stack.length-1]},find_parent:function(t){for(var e=this.stack,n=e.length;--n>=0;){var i=e[n];if(i instanceof t)return i}},has_directive:function(t){return this.find_parent(AST_Scope).has_directive(t)},in_boolean_context:function(){for(var t=this.stack,e=t.length,n=t[--e];e>0;){var i=t[--e];if(i instanceof AST_If&&i.condition===n||i instanceof AST_Conditional&&i.condition===n||i instanceof AST_DWLoop&&i.condition===n||i instanceof AST_For&&i.condition===n||i instanceof AST_UnaryPrefix&&"!"==i.operator&&i.expression===n)return!0;if(!(i instanceof AST_Binary)||"&&"!=i.operator&&"||"!=i.operator)return!1;n=i}},loopcontrol_target:function(t){var e=this.stack;if(t)for(var n=e.length;--n>=0;){var i=e[n];if(i instanceof AST_LabeledStatement&&i.label.name==t.name)return i.body}else for(var n=e.length;--n>=0;){var i=e[n];if(i instanceof AST_Switch||i instanceof AST_IterationStatement)return i}}};var KEYWORDS="break case catch const continue debugger default delete do else finally for function if in instanceof new return switch throw try typeof var void while with",KEYWORDS_ATOM="false null true",RESERVED_WORDS="abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized this throws transient volatile yield "+KEYWORDS_ATOM+" "+KEYWORDS,KEYWORDS_BEFORE_EXPRESSION="return new delete throw else case";KEYWORDS=makePredicate(KEYWORDS),RESERVED_WORDS=makePredicate(RESERVED_WORDS),KEYWORDS_BEFORE_EXPRESSION=makePredicate(KEYWORDS_BEFORE_EXPRESSION),KEYWORDS_ATOM=makePredicate(KEYWORDS_ATOM);var OPERATOR_CHARS=makePredicate(characters("+-*&%=<>!?|~^")),RE_HEX_NUMBER=/^0x[0-9a-f]+$/i,RE_OCT_NUMBER=/^0[0-7]+$/,RE_DEC_NUMBER=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i,OPERATORS=makePredicate(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),WHITESPACE_CHARS=makePredicate(characters("  \n\r	\f​᠎             　\ufeff")),PUNC_BEFORE_EXPRESSION=makePredicate(characters("[{(,.;:")),PUNC_CHARS=makePredicate(characters("[]{}(),;:")),REGEXP_MODIFIERS=makePredicate(characters("gmsiy")),UNICODE={letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),digit:new RegExp("[\\u0030-\\u0039\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")};JS_Parse_Error.prototype.toString=function(){return this.message+" (line: "+this.line+", col: "+this.col+", pos: "+this.pos+")\n\n"+this.stack};var EX_EOF={},UNARY_PREFIX=makePredicate(["typeof","void","delete","--","++","!","~","-","+"]),UNARY_POSTFIX=makePredicate(["--","++"]),ASSIGNMENT=makePredicate(["=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="]),PRECEDENCE=function(t,e){for(var n=0;n<t.length;++n)for(var i=t[n],r=0;r<i.length;++r)e[i[r]]=n+1;return e}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),STATEMENTS_WITH_LABELS=array_to_hash(["for","do","while","switch"]),ATOMIC_START_TOKEN=array_to_hash(["atom","num","string","regexp","name"]);DefaultsError.prototype=Object.create(Error.prototype),DefaultsError.prototype.constructor=DefaultsError,DefaultsError.croak=function(t,e){throw new DefaultsError(t,e)};var MAP=function(){function t(t,o,s){function u(){var u=o(t[a],a),h=u instanceof i;return h&&(u=u.v),u instanceof e?(u=u.v,u instanceof n?l.push.apply(l,s?u.v.slice().reverse():u.v):l.push(u)):u!==r&&(u instanceof n?c.push.apply(c,s?u.v.slice().reverse():u.v):c.push(u)),h}var a,c=[],l=[];if(t instanceof Array)if(s){for(a=t.length;--a>=0&&!u(););c.reverse(),l.reverse()}else for(a=0;a<t.length&&!u();++a);else for(a in t)if(t.hasOwnProperty(a)&&u())break;return l.concat(c)}function e(t){this.v=t}function n(t){this.v=t}function i(t){this.v=t}t.at_top=function(t){return new e(t)},t.splice=function(t){return new n(t)},t.last=function(t){return new i(t)};var r=t.skip={};return t}();Dictionary.prototype={set:function(t,e){return this.has(t)||++this._size,this._values["$"+t]=e,this},add:function(t,e){return this.has(t)?this.get(t).push(e):this.set(t,[e]),this},get:function(t){return this._values["$"+t]},del:function(t){return this.has(t)&&(--this._size,delete this._values["$"+t]),this},has:function(t){return"$"+t in this._values},each:function(t){for(var e in this._values)t(this._values[e],e.substr(1))},size:function(){return this._size},map:function(t){var e=[];for(var n in this._values)e.push(t(this._values[n],n.substr(1)));return e},toObject:function(){return this._values}},Dictionary.fromObject=function(t){var e=new Dictionary;return e._size=merge(e._values,t),e};var KEYWORDS=array_to_hash(["break","case","catch","const","continue","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","throw","try","typeof","var","void","while","with"]),RESERVED_WORDS=array_to_hash(["abstract","boolean","byte","char","class","debugger","double","enum","export","extends","final","float","goto","implements","import","int","interface","long","native","package","private","protected","public","short","static","super","synchronized","throws","transient","volatile"]),KEYWORDS_BEFORE_EXPRESSION=array_to_hash(["return","new","delete","throw","else","case"]),KEYWORDS_ATOM=array_to_hash(["false","null","true","undefined"]),OPERATOR_CHARS=array_to_hash(characters("+-*&%=<>!?|~^")),RE_HEX_NUMBER=/^0x[0-9a-f]+$/i,RE_OCT_NUMBER=/^0[0-7]+$/,RE_DEC_NUMBER=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i,OPERATORS=array_to_hash(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),WHITESPACE_CHARS=array_to_hash(characters(" \n\r	​")),PUNC_BEFORE_EXPRESSION=array_to_hash(characters("[{}(,.;:")),PUNC_CHARS=array_to_hash(characters("[]{}(),;:")),REGEXP_MODIFIERS=array_to_hash(characters("gmsiy")),UNICODE={letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0621-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971\\u0972\\u097B-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D3D\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC\\u0EDD\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8B\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10D0-\\u10FA\\u10FC\\u1100-\\u1159\\u115F-\\u11A2\\u11A8-\\u11F9\\u1200-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u1676\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19A9\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u2094\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C6F\\u2C71-\\u2C7D\\u2C80-\\u2CE4\\u2D00-\\u2D25\\u2D30-\\u2D65\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31B7\\u31F0-\\u31FF\\u3400\\u4DB5\\u4E00\\u9FC3\\uA000-\\uA48C\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA65F\\uA662-\\uA66E\\uA67F-\\uA697\\uA717-\\uA71F\\uA722-\\uA788\\uA78B\\uA78C\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA90A-\\uA925\\uA930-\\uA946\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAC00\\uD7A3\\uF900-\\uFA2D\\uFA30-\\uFA6A\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")};JS_Parse_Error.prototype.toString=function(){return this.message+" (line: "+this.line+", col: "+this.col+", pos: "+this.pos+")\n\n"+this.stack};var EX_EOF={},UNARY_PREFIX=array_to_hash(["typeof","void","delete","--","++","!","~","-","+"]),UNARY_POSTFIX=array_to_hash(["--","++"]),ASSIGNMENT=function(t,e,n){for(;n<t.length;)e[t[n]]=t[n].substr(0,t[n].length-1),n++;return e}(["+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="],{"=":!0},0),PRECEDENCE=function(t,e){for(var n=0,i=1;n<t.length;++n,++i)for(var r=t[n],o=0;o<r.length;++o)e[r[o]]=i;return e}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),STATEMENTS_WITH_LABELS=array_to_hash(["for","do","while","switch"]),ATOMIC_START_TOKEN=array_to_hash(["atom","num","string","regexp","name"]),imports=[];NodeWithToken.prototype.toString=function(){return this.name};var warn=function(){};QMLMethod.prototype=new QMLBinding,"undefined"!=typeof global&&(global.qmlparse=qmlparse);var base54=function(){var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_";return function(e){var n="";do n=t.charAt(e%54)+n,e=Math.floor(e/54);while(e>0);return n}}();Scope.prototype={has:function(t){for(var e=this;e;e=e.parent)if(HOP(e.names,t))return e},has_mangled:function(t){for(var e=this;e;e=e.parent)if(HOP(e.rev_mangled,t))return e},toJSON:function(){return{names:this.names,uses_eval:this.uses_eval,uses_with:this.uses_with}},next_mangled:function(){for(;;){var t,e=base54(++this.cname);if(t=this.has_mangled(e),!(t&&this.refs[t.rev_mangled[e]]===t||(t=this.has(e),t&&t!==this&&this.refs[e]===t&&!t.has_mangled(e)||HOP(this.refs,e)&&null==this.refs[e]||!is_identifier(e))))return e}},set_mangle:function(t,e){return this.rev_mangled[e]=t,this.mangled[t]=e},get_mangled:function(t,e){if(this.uses_eval||this.uses_with)return t;var n=this.has(t);return n?HOP(n.mangled,t)?n.mangled[t]:e?n.set_mangle(t,n.next_mangled()):t:t},references:function(t){return t&&!this.parent||this.uses_with||this.uses_eval||this.refs[t]},define:function(t,e){return null!=t?("var"!=e&&HOP(this.names,t)||(this.names[t]=e||"var"),t):void 0}};var warn=function(){},when_constant=function(){function t(n){switch(n[0]){case"string":case"num":return n[1];case"name":case"atom":switch(n[1]){case"true":return!0;case"false":return!1}break;case"unary-prefix":switch(n[1]){case"!":return!t(n[2]);case"typeof":return typeof t(n[2]);case"~":return~t(n[2]);case"-":return-t(n[2]);case"+":return+t(n[2])}break;case"binary":var i=n[2],r=n[3];switch(n[1]){case"&&":return t(i)&&t(r);case"||":return t(i)||t(r);case"|":return t(i)|t(r);case"&":return t(i)&t(r);case"^":return t(i)^t(r);case"+":return t(i)+t(r);case"*":return t(i)*t(r);case"/":return t(i)/t(r);case"-":return t(i)-t(r);case"<<":return t(i)<<t(r);case">>":return t(i)>>t(r);case">>>":return t(i)>>>t(r);case"==":return t(i)==t(r);case"===":return t(i)===t(r);case"!=":return t(i)!=t(r);case"!==":return t(i)!==t(r);case"<":return t(i)<t(r);case"<=":return t(i)<=t(r);case">":return t(i)>t(r);case">=":return t(i)>=t(r);case"in":return t(i)in t(r);case"instanceof":return t(i)instanceof t(r)}}throw e}var e={};return function(n,i,r){try{var o,s=t(n);switch(typeof s){case"string":o=["string",s];break;case"number":o=["num",s];break;case"boolean":o=["name",String(s)];break;default:throw new Error("Can't handle constant of type: "+typeof s)}return i.call(n,o,s)}catch(u){if(u===e){if("binary"!=n[0]||"==="!=n[1]&&"!=="!=n[1]||!(is_string(n[2])&&is_string(n[3])||boolean_expr(n[2])&&boolean_expr(n[3]))){if(r&&"binary"==n[0]&&("||"==n[1]||"&&"==n[1]))try{var a=t(n[2]);n="&&"==n[1]&&(a?n[3]:a)||"||"==n[1]&&(a?a:n[3])||n}catch(c){}}else n[1]=n[1].substr(0,2);return r?r.call(n,n):null;

}throw u}}}(),DOT_CALL_NO_PARENS=array_to_hash(["name","array","object","string","dot","sub","call","regexp"]),SPLICE_NEEDS_BRACKETS=array_to_hash(["if","while","do","for","for-in","with"]),MAP;!function(){function t(t){this.v=t}function e(t){this.v=t}MAP=function(i,r,o){function s(){var s=r.call(o,i[u],u);s instanceof t?(s=s.v,s instanceof e?c.push.apply(c,s.v):c.push(s)):s!=n&&(s instanceof e?a.push.apply(a,s.v):a.push(s))}var u,a=[],c=[];if(i instanceof Array)for(u=0;u<i.length;++u)s();else for(u in i)HOP(i,u)&&s();return c.concat(a)},MAP.at_top=function(e){return new t(e)},MAP.splice=function(t){return new e(t)};var n=MAP.skip={}}(),function(){function parseQML(file){var contents=getUrlContents(file+".js");return contents?(console.log("Using pre-processed content for "+file),eval("(function(){return "+contents+"})();")):(contents=getUrlContents(file),void console.log(contents?"todo: add parser to import.js "+file:"warn: Fetch failed for "+file))}function readExports(t){function e(t,n,i){var r;if(i)for(r=0;r<t.length&&t.substr(r,n.length)!=n;)switch(t[r]){case"{":t=e(t.substr(r+1),"}",!0),r=0;break;case"(":t=e(t.substr(r+1),")",!0),r=0;break;case"/":"/"==t[r+1]?(t=e(t.substr(r+1),"\n"),r=0):"*"==t[r+1]?(t=e(t.substr(r+1),"*/"),r=0):r++;break;default:r++}else if(r=t.indexOf(n),-1==r)return console.log("eof encountered, "+n+" expected."),"";return t.substr(r+n.length)}for(var n,i,r=0,o="",s=/var\s+\w+|function\s+\w+/g,u=[];r<t.length;)switch(t[r]){case"{":t=e(t.substr(r+1),"}",!0),r=0;break;case"(":t=e(t.substr(r+1),")",!0),r=0;break;case"/":"/"==t[r+1]?(t=e(t.substr(r+1),"\n"),r=0):"*"==t[r+1]?(t=e(t.substr(r+1),"*/"),r=0):(o+=t[r],r++);break;default:o+=t[r],r++}for(n=o.match(s),r=0;r<n.length;r++)i=/\w+\s+(\w+)/.exec(n[r]),i&&u.push(i[1]);return u}getUrlContents=function(t){if("undefined"==typeof urlContentCache[t]){var e=new XMLHttpRequest;if(e.open("GET",t,!1),e.send(null),200!=e.status&&0!=e.status)return console.log("Retrieving "+t+" failed: "+e.responseText,e),!1;urlContentCache[t]=e.responseText}return urlContentCache[t]},"undefined"==typeof global.urlContentCache&&(global.urlContentCache={}),readQmlDir=function(t){var e,n,i,r,o=getUrlContents(t+="/qmldir"),s={},u={};if(o===!1)return!1;for(e=o.split(/\r?\n/),r=0;r<e.length;r++)n=e[r].replace(/^\s+|\s+$/g,""),n.length&&"#"!=n[0]&&(i=n.split(/\s+/),2==i.length||3==i.length?"plugin"==i[0]?console.log(t+": qmldir plugins are not supported!"):"internal"==i[0]?s[i[1]]={url:t+"/"+i[2]}:u[i[0]]=2==i.length?{url:t+"/"+i[1]}:{url:t+"/"+i[2],version:i[1]}:console.log(t+": unmatched: "+n));return{internals:s,externals:u}},importJs=function(filename){var i,src=getUrlContents(filename),exports=[];if(src!==!1){for(exports=readExports(src),console.log(filename+" exports:",exports),src="(function(){"+src+";return {",i=0;i<exports.length;i++)src+="get "+exports[i]+"(){return "+exports[i]+"},",src+="set "+exports[i]+"(){"+exports[i]+" = arguments[0]},";return src+="}})()",eval(src)}}}(),global.qrc={includesFile:function(t){return"undefined"!=typeof qrc[t]}},global.Qt={rgba:function(t,e,n,i){return"rgba("+Math.round(255*t)+","+Math.round(255*e)+","+Math.round(255*n)+","+i+")"},openUrlExternally:function(t){page=window.open(t,"_blank"),page.focus()},LeftButton:1,RightButton:2,MiddleButton:4,NoModifier:0,ShiftModifier:1,ControlModifier:2,AltModifier:4,MetaModifier:8,KeypadModifier:16,LeftToRight:0,RightToLeft:1,Vertical:0,Horizontal:1,Key_Escape:27,Key_Tab:9,Key_Backtab:245,Key_Backspace:8,Key_Return:13,Key_Enter:13,Key_Insert:45,Key_Delete:46,Key_Pause:19,Key_Print:42,Key_SysReq:0,Key_Clear:12,Key_Home:36,Key_End:35,Key_Left:37,Key_Up:38,Key_Right:39,Key_Down:40,Key_PageUp:33,Key_PageDown:34,Key_Shift:16,Key_Control:17,Key_Meta:91,Key_Alt:18,Key_AltGr:0,Key_CapsLock:20,Key_NumLock:144,Key_ScrollLock:145,Key_F1:112,Key_F2:113,Key_F3:114,Key_F4:115,Key_F5:116,Key_F6:117,Key_F7:118,Key_F8:119,Key_F9:120,Key_F10:121,Key_F11:122,Key_F12:123,Key_F13:124,Key_F14:125,Key_F15:126,Key_F16:127,Key_F17:128,Key_F18:129,Key_F19:130,Key_F20:131,Key_F21:132,Key_F22:133,Key_F23:134,Key_F24:135,Key_F25:0,Key_F26:0,Key_F27:0,Key_F28:0,Key_F29:0,Key_F30:0,Key_F31:0,Key_F32:0,Key_F33:0,Key_F34:0,Key_F35:0,Key_Super_L:0,Key_Super_R:0,Key_Menu:0,Key_Hyper_L:0,Key_Hyper_R:0,Key_Help:6,Key_Direction_L:0,Key_Direction_R:0,Key_Space:32,Key_Any:32,Key_Exclam:161,Key_QuoteDbl:162,Key_NumberSign:163,Key_Dollar:164,Key_Percent:165,Key_Ampersant:166,Key_Apostrophe:222,Key_ParenLeft:168,Key_ParenRight:169,Key_Asterisk:170,Key_Plus:171,Key_Comma:188,Key_Minus:173,Key_Period:190,Key_Slash:191,Key_0:48,Key_1:49,Key_2:50,Key_3:51,Key_4:52,Key_5:53,Key_6:54,Key_7:55,Key_8:56,Key_9:57,Key_Colon:58,Key_Semicolon:59,Key_Less:60,Key_Equal:61,Key_Greater:62,Key_Question:63,Key_At:64,Key_A:65,Key_B:66,Key_C:67,Key_D:68,Key_E:69,Key_F:70,Key_G:71,Key_H:72,Key_I:73,Key_J:74,Key_K:75,Key_L:76,Key_M:77,Key_N:78,Key_O:79,Key_P:80,Key_Q:81,Key_R:82,Key_S:83,Key_T:84,Key_U:85,Key_V:86,Key_W:87,Key_X:88,Key_Y:89,Key_Z:90,Key_BracketLeft:219,Key_Backslash:220,Key_BracketRight:221,Key_AsciiCircum:160,Key_Underscore:167,Key_QuoteLeft:0,Key_BraceLeft:174,Key_Bar:172,Key_BraceRight:175,Key_AsciiTilde:176,Key_Back:0,Key_Forward:0,Key_Stop:0,Key_VolumeDown:182,Key_VolumeUp:183,Key_VolumeMute:181,Key_Yes:0,Key_multiply:106,Key_add:107,Key_substract:109,Key_divide:111,Key_News:0,Key_OfficeHome:0,Key_Option:0,Key_Paste:0,Key_Phone:0,Key_Calendar:0,Key_Reply:0,Key_Reload:0,Key_RotateWindows:0,Key_RotationPB:0,Key_RotationKB:0,Key_Save:0,Key_Send:0,Key_Spell:0,Key_SplitScreen:0,Key_Support:0,Key_TaskPane:0,Key_Terminal:0,Key_Tools:0,Key_Travel:0,Key_Video:0,Key_Word:0,Key_Xfer:0,Key_ZoomIn:0,Key_ZoomOut:0,Key_Away:0,Key_Messenger:0,Key_WebCam:0,Key_MailForward:0,Key_Pictures:0,Key_Music:0,Key_Battery:0,Key_Bluetooth:0,Key_WLAN:0,Key_UWB:0,Key_AudioForward:0,Key_AudioRepeat:0,Key_AudioRandomPlay:0,Key_Subtitle:0,Key_AudioCycleTrack:0,Key_Time:0,Key_Hibernate:0,Key_View:0,Key_TopMenu:0,Key_PowerDown:0,Key_Suspend:0,Key_ContrastAdjust:0,Key_MediaLast:0,Key_unknown:-1,Key_Call:0,Key_Camera:0,Key_CameraFocus:0,Key_Context1:0,Key_Context2:0,Key_Context3:0,Key_Context4:0,Key_Flip:0,Key_Hangup:0,Key_No:0,Key_Select:93,Key_Yes:0,Key_ToggleCallHangup:0,Key_VoiceDial:0,Key_LastNumberRedial:0,Key_Execute:43,Key_Printer:42,Key_Play:250,Key_Sleep:95,Key_Zoom:251,Key_Cancel:3},global.Signal=function(t,e){e=e||{};var n=[],i=e.obj,r=function(){for(var t in n)n[t].slot.apply(n[t].thisObj,arguments)};return r.parameters=t||[],r.connect=function(){1==arguments.length?n.push({thisObj:global,slot:arguments[0]}):"string"==typeof arguments[1]||arguments[1]instanceof String?(arguments[0].$tidyupList&&arguments[0]!==i&&arguments[0].$tidyupList.push(this),n.push({thisObj:arguments[0],slot:arguments[0][arguments[1]]})):(arguments[0].$tidyupList&&(!i||arguments[0]!==i&&arguments[0]!==i.$parent)&&arguments[0].$tidyupList.push(this),n.push({thisObj:arguments[0],slot:arguments[1]}))},r.disconnect=function(){for(var t=1==arguments.length?arguments[0]instanceof Function?1:2:"string"==typeof arguments[1]||arguments[1]instanceof String?3:4,e=0;e<n.length;e++){var i=n[e];(1==t&&i.slot==arguments[0]||2==t&&i.thisObj==arguments[0]||3==t&&i.thisObj==arguments[0]&&i.slot==arguments[0][arguments[1]]||i.thisObj==arguments[0]&&i.slot==arguments[1])&&(i.thisObj&&i.thisObj.$tidyupList.splice(i.thisObj.$tidyupList.indexOf(this),1),n.splice(e,1),e--)}},r.isConnected=function(){var t=1==arguments.length?1:"string"==typeof arguments[1]||arguments[1]instanceof String?2:3;for(var e in n){var i=n[e];if(1==t&&i.slot==arguments[0]||2==t&&i.thisObj==arguments[0]&&i.slot==arguments[0][arguments[1]]||i.thisObj==arguments[0]&&i.slot==arguments[1])return!0}return!1},r},global.Font={MixedCase:"none",AllUppercase:"uppercase",AllLowercase:"lowercase",SmallCaps:"smallcaps",Capitalize:"capitalize",Light:"lighter",Normal:"normal",DemiBold:"600",Bold:"bold",Black:"bolder"},global.Easing={Linear:1,InQuad:2,OutQuad:3,InOutQuad:4,OutInQuad:5,InCubic:6,OutCubic:7,InOutCubic:8,OutInCubic:9,InQuart:10,OutQuart:11,InOutQuart:12,OutInQuart:13,InQuint:14,OutQuint:15,InOutQuint:16,OutInQuint:17,InSine:18,OutSine:19,InOutSine:20,OutInSine:21,InExpo:22,OutExpo:23,InOutExpo:24,OutInExpo:25,InCirc:26,OutCirc:27,InOutCirc:28,OutInCirc:29,InElastic:30,OutElastic:31,InOutElastic:32,OutInElastic:33,InBack:34,OutBack:35,InOutBack:36,OutInBack:37,InBounce:38,OutBounce:39,InOutBounce:40,OutInBounce:41};var GETTER="__defineGetter__",SETTER="__defineSetter__",Undefined=void 0,evaluatingProperty=void 0,constructors={"int":QMLInteger,real:Number,"double":Number,string:String,bool:Boolean,list:QMLList,color:QMLColor,"enum":Number,url:String,variant:QMLVariant,"var":QMLVariant,QMLDocument:QMLComponent},modules={Main:constructors};global.registerGlobalQmlType=function(t,e){global[e.name]=e,constructors[t]=e,modules.Main[t]=e},global.registerQmlType=function(t){if("object"!=typeof t)registerGlobalQmlType(arguments[0],arguments[1]);else{var e={name:t.name,versions:t.versions,constructor:t.constructor};"undefined"==typeof modules[t.module]&&(modules[t.module]=[]),modules[t.module].push(e)}},global.getConstructor=function(t,e,n){if("undefined"!=typeof modules[t])for(var i=0;i<modules[t].length;++i){var r=modules[t][i];if(r.name==n&&r.versions.test(e))return r.constructor}return null},global.collectConstructorsForModule=function(t,e){var n={};if("undefined"==typeof modules[t])return console.warn("module `"+t+"` not found"),n;for(var i=0;i<modules[t].length;++i){var r=modules[t][i];r.versions.test(e)&&(n[r.name]=r.constructor)}return n},global.mergeObjects=function(t,e){var n={};if("undefined"!=typeof t&&null!=t)for(var i in t)n[i]=t[i];if("undefined"!=typeof e&&null!=e)for(var i in e)n[i]=e[i];return n},global.perContextConstructors={},global.loadImports=function(t,e){constructors=mergeObjects(modules.Main,null);for(var n=0;n<e.length;++n){var i=e[n],r=collectConstructorsForModule(i.subject,i.version);null!=i.alias?constructors[i.alias]=mergeObjects(constructors[i.alias],r):constructors=mergeObjects(constructors,r)}perContextConstructors[t.objectId]=constructors},QMLBinding.prototype.compile=function(){var bindSrc=this["function"]?"(function(o, c) { with(c) with(o) "+this.src+"})":"(function(o, c) { with(c) with(o) return "+this.src+"})";this.eval=eval(bindSrc)};var setupGetter,setupSetter,setupGetterSetter;!function(){var t=!(Object[GETTER]&&Object[SETTER]);t?(Object.defineProperty||console.log("No __defineGetter__ or defineProperty available!"),setupGetter=function(t,e,n){Object.defineProperty(t,e,{get:n,configurable:!0,enumerable:!0})},setupSetter=function(t,e,n){Object.defineProperty(t,e,{set:n,configurable:!0,enumerable:!1})},setupGetterSetter=function(t,e,n,i){Object.defineProperty(t,e,{get:n,set:i,configurable:!0,enumerable:!1})}):(setupGetter=function(t,e,n){t[GETTER](e,n)},setupSetter=function(t,e,n){t[SETTER](e,n)},setupGetterSetter=function(t,e,n,i){t[GETTER](e,n),t[SETTER](e,i)})}(),JSItemModel=function(){this.roleNames=[],this.setRoleNames=function(t){this.roleNames=t},this.dataChanged=Signal([{type:"int",name:"startIndex"},{type:"int",name:"endIndex"}]),this.rowsInserted=Signal([{type:"int",name:"startIndex"},{type:"int",name:"endIndex"}]),this.rowsMoved=Signal([{type:"int",name:"sourceStartIndex"},{type:"int",name:"sourceEndIndex"},{type:"int",name:"destinationIndex"}]),this.rowsRemoved=Signal([{type:"int",name:"startIndex"},{type:"int",name:"endIndex"}]),this.modelReset=Signal()},global.addEventListener("load",function(){for(var t=document.getElementsByTagName("BODY"),e=0;e<t.length;++e){var n=t[e],i=n.getAttribute("data-qml");if(null!=i){global.qmlEngine=new QMLEngine,qmlEngine.loadFile(i),qmlEngine.start();break}}});var engine=null;QMLEngine=function(t,e){function n(t){return t.keyCode>=96&&t.keyCode<=111&&(t.keypad=!0),t.keyCode==Qt.Key_Tab&&1==t.shiftKey?Qt.Key_Backtab:t.keyCode>=97&&t.keyCode<=122?t.keyCode-(97-Qt.Key_A):t.keyCode}function i(t){return{accepted:!1,count:1,isAutoRepeat:!1,key:n(t),modifiers:t.ctrlKey*Qt.CtrlModifier|t.altKey*Qt.AltModifier|t.shiftKey*Qt.ShiftModifier|t.metaKey*Qt.MetaModifier|t.keypad*Qt.KeypadModifier,text:String.fromCharCode(t.charCode)}}function r(e){e.preventDefault();var n={layerX:e.touches[0].pageX-t.offsetLeft,layerY:e.touches[0].pageY-t.offsetTop,button:1};t.onclick(n)}function o(e){var n;for(n in p.mouseAreas){var i=p.mouseAreas[n];i&&i.hoverEnabled&&p.oldMousePos.x>=i.left&&p.oldMousePos.x<=i.right&&p.oldMousePos.y>=i.top&&p.oldMousePos.y<=i.bottom&&!(e.pageX-t.offsetLeft>=i.left&&e.pageX-t.offsetLeft<=i.right&&e.pageY-t.offsetTop>=i.top&&e.pageY-t.offsetTop<=i.bottom)&&i.exited()}for(n in p.mouseAreas){var i=p.mouseAreas[n];i&&i.hoverEnabled&&e.pageX-t.offsetLeft>=i.left&&e.pageX-t.offsetLeft<=i.right&&e.pageY-t.offsetTop>=i.top&&e.pageY-t.offsetTop<=i.bottom&&!(p.oldMousePos.x>=i.left&&p.oldMousePos.x<=i.right&&p.oldMousePos.y>=i.top&&p.oldMousePos.y<=i.bottom)&&i.entered()}p.oldMousePos={x:e.pageX-t.offsetLeft,y:e.pageY-t.offsetTop}}function s(){var t,e=(new Date).getTime(),n=e-g;for(g=e,t=0;t<m.length;t++)m[t](e,n)}this.fps=60,this.$interval=Math.floor(1e3/this.fps),this.running=!1,this.rootElement=t,this.operationState=1,this.mouseAreas=[],this.oldMousePos={x:0,y:0},this.components={},this.completedSignals=[],this.bindedProperties=[],this.start=function(){engine=this;var t;if(this.operationState!==QMLOperationState.Running)for(this.operationState=QMLOperationState.Running,c=setInterval(s,this.$interval),t=0;t<f.length;t++)f[t]()},this.stop=function(){var e;if(this.operationState==QMLOperationState.Running)for(t.removeEventListener("touchstart",r),t.removeEventListener("mousemove",o),clearInterval(c),this.operationState=QMLOperationState.Idle,e=0;e<d.length;e++)d[e]()},this.pathFromFilepath=function(t){var e=t.split("/");return e[e.length-1]="",e=e.join("/")},this.ensureFileIsLoadedInQrc=function(t){if(!qrc.includesFile(t)){var e=getUrlContents(t);console.log("loading file",t),qrc[t]=qmlparse(e)}},this.loadFile=function(t){var e;l=this.pathFromFilepath(t),this.basePath=l,this.ensureFileIsLoadedInQrc(t),e=convertToEngine(qrc[t]),this.loadQMLTree(e)},this.loadQML=function(t){this.loadQMLTree(parseQML(t))},this.loadQMLTree=function(t){engine=this,e.debugTree&&e.debugTree(t);var n=new QMLComponent({object:t,parent:null});a=n.createObject(null),n.finalizeImports(),this.$initializePropertyBindings(),this.start();for(var i in this.completedSignals)this.completedSignals[i]()},this.rootContext=function(){return a.$context},this.focusedElement=function(){return this.rootContext().activeFocus}.bind(this);var u={};u[Qt.Key_Asterisk]="asteriskPressed",u[Qt.Key_Back]="backPressed",u[Qt.Key_Backtab]="backtabPressed",u[Qt.Key_Call]="callPressed",u[Qt.Key_Cancel]="cancelPressed",u[Qt.Key_Delete]="deletePressed",u[Qt.Key_0]="digit0Pressed",u[Qt.Key_1]="digit1Pressed",u[Qt.Key_2]="digit2Pressed",u[Qt.Key_3]="digit3Pressed",u[Qt.Key_4]="digit4Pressed",u[Qt.Key_5]="digit5Pressed",u[Qt.Key_6]="digit6Pressed",u[Qt.Key_7]="digit7Pressed",u[Qt.Key_8]="digit8Pressed",u[Qt.Key_9]="digit9Pressed",u[Qt.Key_Escape]="escapePressed",u[Qt.Key_Flip]="flipPressed",u[Qt.Key_Hangup]="hangupPressed",u[Qt.Key_Menu]="menuPressed",u[Qt.Key_No]="noPressed",u[Qt.Key_Return]="returnPressed",u[Qt.Key_Select]="selectPressed",u[Qt.Key_Space]="spacePressed",u[Qt.Key_Tab]="tabPressed",u[Qt.Key_VolumeDown]="volumeDownPressed",u[Qt.Key_VolumeUp]="volumeUpPressed",u[Qt.Key_Yes]="yesPressed",u[Qt.Key_Up]="upPressed",u[Qt.Key_Right]="rightPressed",u[Qt.Key_Down]="downPressed",u[Qt.Key_Left]="leftPressed",document.onkeypress=function(t){for(var e=this.focusedElement(),n=i(t||window.event),r=u[n.key];1!=n.accepted&&null!=e;){var o=e.$context.event;e.$context.event=n,e.Keys.pressed(n),null!=r&&e.Keys[r](n),e.$context.event=o,1==n.accepted?t.preventDefault():e=e.$parent}}.bind(this),document.onkeyup=function(t){for(var e=this.focusedElement(),n=i(t||window.event);1!=n.accepted&&null!=e;){var r=e.$context.event;e.$context.event=n,e.Keys.released(n),e.$context.event=r,1==n.accepted?t.preventDefault():e=e.$parent}}.bind(this),this.registerProperty=function(t,e){function n(){return evaluatingProperty&&-1==r.indexOf(evaluatingProperty)&&r.push(evaluatingProperty),o}function i(t){o=t;for(h in r)r[h].update()}var r=[],o=t[e];setupGetterSetter(t,e,n,i)},this.loadComponent=function(t){if(t in this.components)return this.components[t];var e=l+t+".qml";return this.ensureFileIsLoadedInQrc(e),tree=convertToEngine(qrc[e]),this.components[t]=tree,tree},this.$initializePropertyBindings=function(){for(var t=0;t<this.bindedProperties.length;t++){var e=this.bindedProperties[t];e.binding.compile(),e.update()}this.bindedProperties=[]},this.$getTextMetrics=function(t,e){canvas.save(),canvas.font=e;var n=canvas.measureText(t);return canvas.restore(),n},this.$resolvePath=function(t){return""==t||-1!=t.indexOf("://")||0==t.indexOf("/")?t:l+t},this.$registerStart=function(t){f.push(t)},this.$registerStop=function(t){d.push(t)},this.$addTicker=function(t){m.push(t)},this.$removeTicker=function(t){var e=m.indexOf(t);-1!=e&&m.splice(e,1)},this.size=function(){return{width:a.getWidth(),height:a.getHeight()}},this.$perfDraw=function(t){a.$draw(t)};var a,c,l,h,p=this,d=[],f=[],m=[],g=(new Date).getTime();e=e||{},e.debugConsole&&(console={},console.log=function(){var t=Array.prototype.slice.call(arguments);e.debugConsole.apply(Undefined,t)})},QMLOperationState={Idle:1,Init:2,Running:3},QMLPositioner.slotChildrenChanged=function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];e.widthChanged.isConnected(this,this.layoutChildren)||e.widthChanged.connect(this,this.layoutChildren),e.heightChanged.isConnected(this,this.layoutChildren)||e.heightChanged.connect(this,this.layoutChildren),e.visibleChanged.isConnected(this,this.layoutChildren)||e.visibleChanged.connect(this,this.layoutChildren),e.opacityChanged.isConnected(this,this.layoutChildren)||e.opacityChanged.connect(this,this.layoutChildren)}},QMLProperty.prototype.update=function(){if(this.binding){var t=this.val;evaluatingProperty=this,this.val=this.binding.eval(this.objectScope,this.componentScope),evaluatingProperty=void 0,this.animation&&(this.animation.$actions=[{target:this.animation.target||this.obj,property:this.animation.property||this.name,from:this.animation.from||t,to:this.animation.to||this.val}],this.animation.restart()),this.val!==t&&this.changed(this.val,t,this.name)}},QMLProperty.prototype.get=function(){return evaluatingProperty&&!this.changed.isConnected(evaluatingProperty,QMLProperty.prototype.update)&&this.changed.connect(evaluatingProperty,QMLProperty.prototype.update),this.val},QMLProperty.prototype.set=function(t,e,n,i){var r=this.val;if(t instanceof QMLBinding){if(!n||!i)throw"Internal error: binding assigned without scope";if(this.binding=t,this.objectScope=n,this.componentScope=i,engine.operationState===QMLOperationState.Init)return void engine.bindedProperties.push(this);t.eval||t.compile(),evaluatingProperty=this,t=this.binding.eval(n,i),evaluatingProperty=null}else e||(this.binding=null),t instanceof Array&&(t=t.slice());this.val=constructors[this.type]==QMLList?QMLList({object:t,parent:this.obj,context:i}):t instanceof QMLMetaElement?constructors[t.$class]==QMLComponent||constructors[this.type]==QMLComponent?new QMLComponent({object:t,parent:this.obj,context:i}):construct({object:t,parent:this.obj,context:i}):t instanceof Object||!t?t:constructors[this.type](t),this.val!==r&&(this.animation&&!e&&(this.animation.running=!1,this.animation.$actions=[{target:this.animation.target||this.obj,property:this.animation.property||this.name,from:this.animation.from||r,to:this.animation.to||this.val}],this.animation.running=!0),this.changed(this.val,r,this.name))};var objectIds=0;registerQmlType("Button",QMLButton),QMLComponent.prototype.createObject=function(t,e){var n=engine.operationState;engine.operationState=QMLOperationState.Init;var i=construct({object:this.$metaObject,parent:t,context:Object.create(this.$context),isComponentRoot:!0});return engine.operationState=n,i},registerQmlType("Component",QMLComponent),registerQmlType("QMLDocument",QMLComponent),constructors.Item=QMLItem,registerQmlType("PropertyChanges",QMLPropertyChanges),function(){global.importJavascriptInContext=function(jsData,$context){with(qmlEngine.rootContext()){eval(jsData.source);for(var i=0;i<jsData.exports.length;++i){var symbolName=jsData.exports[i];$context[symbolName]=eval(symbolName)}}},global.jsparse=function(t){for(var e=parse(t),n={exports:[],source:t},i=0;i<e.body.length;++i){var r=e.body[i];switch(r.__proto__.TYPE){case"VAR":n.exports.push(r.definitions[0].name.name);break;case"Defun":n.exports.push(r.name.name)}}return n}}(),registerQmlType({module:"QtGraphicalEffects",name:"FastBlur",versions:/.*/,constructor:function(t){function e(t){if(null!=r){var e=r.transform.indexOf(i);r.transform.splice(e,1),r.$updateTransform()}}function n(t){console.log("updating effect"),e(r),null!=t&&"undefined"!=typeof t.transform?(o(),console.log("updating effect:",i,t),t.transform.push(i),t.$updateTransform(),r=t):r=null}QMLItem.call(this,t);var i,r=null;createSimpleProperty("real",this,"radius"),createSimpleProperty("var",this,"source"),this.radius=0,this.source=null;var o=function(){i={transformType:"filter",operation:"blur",parameters:this.radius+"px"}}.bind(this);this.radiusChanged.connect(this,function(t){n(this.source)}.bind(this)),this.sourceChanged.connect(this,function(t){n(this.source)}.bind(this))}}),registerQmlType({module:"QtMobility",name:"GeoLocation",versions:/.*/,constructor:function(t){QMLItem.call(this,t),createSimpleProperty("double",this,"accuracy"),createSimpleProperty("double",this,"altitude"),createSimpleProperty("double",this,"altitudeAccuracy"),createSimpleProperty("double",this,"heading"),createSimpleProperty("string",this,"label"),createSimpleProperty("double",this,"latitude"),createSimpleProperty("double",this,"longitude"),createSimpleProperty("double",this,"speed"),createSimpleProperty("date",this,"timestamp"),navigator.geolocation&&navigator.geolocation.getCurrentPosition;var e=function(t){this.accuracy=t.coords.accuracy,this.altitude=t.coords.altitude,this.altitudeAccuracy=t.coords.altitudeAccuracy,this.heading=t.coords.heading,this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,this.speed=t.coords.speed,this.timestamp=t.timestamp}.bind(this);navigator.geolocation.getCurrentPosition(e),navigator.geolocation.watchPosition(e)}}),global.MediaPlayer={NoError:0,ResourceError:1,FormatError:2,NetworkError:4,AccessDenied:8,ServiceMissing:16,StoppedState:0,PlayingState:1,PausedState:2,NoMedia:0,Loading:1,Loaded:2,Buffering:4,Stalled:8,EndOfMedia:16,InvalidMedia:32,UnknownStatus:64},global.VideoOutput={PreserveAspectFit:0,PreserveAspectCrop:1,Stretch:2},registerQmlType({module:"QtMultimedia",name:"Video",versions:/^5\./,constructor:function(t){var e,n,i=0;QMLItem.call(this,t),this.dom.innerHTML="<video></video>",e=this.dom.firstChild,this.dom.firstChild.style.width=this.dom.firstChild.style.height="100%",this.dom.firstChild.style.margin="0",createSimpleProperty("bool",this,"autoPlay"),createSimpleProperty("enum",this,"fillMode"),createSimpleProperty("int",this,"duration"),createSimpleProperty("int",this,"position"),createSimpleProperty("bool",this,"muted"),createSimpleProperty("real",this,"playbackRate"),createSimpleProperty("enum",this,"playbackState"),createSimpleProperty("string",this,"source"),createSimpleProperty("real",this,"volume"),createSimpleProperty("enum",this,"status"),createSimpleProperty("enum",this,"error"),this.status=MediaPlayer.NoMedia,this.error=MediaPlayer.NoError,this.fillMode=VideoOutput.PreserveAspectFit,this.volume=e.volume,this.duration=e.duration,this.playbackState=MediaPlayer.StoppedState,this.muted=!1,this.paused=Signal(),this.playing=Signal(),this.stopped=Signal(),this.autoPlayChanged.connect(this,function(t){e.autoplay=t}.bind(this)),e.addEventListener("play",function(){this.playing(),this.playbackState=MediaPlayer.PlayingState}.bind(this)),e.addEventListener("pause",function(){this.paused(),this.playbackState=MediaPlayer.PausedState}.bind(this)),e.addEventListener("timeupdate",function(){i++,this.position=1e3*e.currentTime,i--}.bind(this)),e.addEventListener("ended",function(){this.stopped(),this.playbackState=MediaPlayer.StoppedState}.bind(this)),e.addEventListener("progress",function(){e.buffered.length>0&&(this.progress=e.buffered.end(0)/e.duration,this.status=this.progress<1?MediaPlayer.Buffering:MediaPlayer.Buffered)}.bind(this)),e.addEventListener("stalled",function(){this.status=MediaPlayer.Stalled}.bind(this)),e.addEventListener("canplaythrough",function(){this.status=MediaPlayer.Buffered}.bind(this)),e.addEventListener("loadstart",function(){this.status=MediaPlayer.Loading}.bind(this)),e.addEventListener("durationchanged",function(){this.duration=e.duration}.bind(this)),e.addEventListener("volumechanged",function(){i++,this.volume=demoVideo.volume,i--}.bind(this)),e.addEventListener("suspend",function(){this.error|=MediaPlayer.NetworkError}.bind(this)),e.addEventListener("error",function(){this.error|=MediaPlayer.ResourceError}.bind(this)),e.addEventListener("ratechange",function(){i++,this.playbackRate=e.playbackRate,i--}.bind(this)),this.pause=function(){e.pause()}.bind(this),this.play=function(){e.play()}.bind(this),this.seek=function(t){e.currentTime=1e3*t}.bind(this),this.stop=function(){}.bind(this),this.mimetypeFromExtension=function(t){var e={ogg:"video/ogg",ogv:"video/ogg",ogm:"video/ogg",mp4:"video/mp4",webm:"video/webm"};return"undefined"==typeof e[t]?"":e[t]},this.sourceChanged.connect(this,function(t){var n=t.split("."),i=n[n.length-1];e.src=t,""==e.canPlayType(this.mimetypeFromExtension(i.toLowerCase()))&&(this.error|=MediaPlayer.FormatError)}.bind(this)),this.positionChanged.connect(this,function(t){0==i&&(e.currentTime=t/1e3)}.bind(this)),this.volumeChanged.connect(this,function(t){0==i&&(e.volume=t)}.bind(this)),this.playbackRateChanged.connect(this,function(t){0==i&&(e.playbackRate=t)}.bind(this)),this.mutedChanged.connect(this,function(t){1==t?(volulmeBackup=e.volume,this.volume=0):this.volume=n}.bind(this)),this.fillModeChanged.connect(this,function(t){switch(t){case VideoOutput.Stretch:e.style.objectFit="fill";break;case VideoOutput.PreserveAspectFit:e.style.objectFit="";break;case VideoOutput.PreserveAspectCrop:e.style.objectFit="cover"}}.bind(this))}}),registerQmlType({module:"QtQuick",name:"AnimatedImage",versions:/.*/,constructors:function(t){QMLImage.call(this,t)}}),registerQmlType({module:"QtQuick",name:"Animation",versions:/.*/,constructor:function(t){QMLBaseObject.call(this,t),this.Animation={Infinite:-1},createSimpleProperty("bool",this,"alwaysRunToEnd"),createSimpleProperty("int",this,"loops"),createSimpleProperty("bool",this,"paused"),createSimpleProperty("bool",this,"running"),this.alwaysRunToEnd=!1,this.loops=1,this.paused=!1,this.running=!1,this.restart=function(){this.stop(),this.start()},this.start=function(){this.running=!0},this.stop=function(){this.running=!1},this.pause=function(){this.paused=!0},this.resume=function(){this.paused=!1},this.complete=unboundMethod}}),registerQmlType({module:"QtQuick",name:"Behavior",versions:/.*/,constructor:function(t){QMLBaseObject.call(this,t),createSimpleProperty("Animation",this,"animation"),this.$defaultProperty="animation",createSimpleProperty("bool",this,"enabled"),this.animationChanged.connect(this,function(e){e.target=this.$parent,e.property=t.object.$on,this.$parent.$properties[t.object.$on].animation=e}),this.enabledChanged.connect(this,function(e){this.$parent.$properties[t.object.$on].animation=e?this.animation:null})}}),registerQmlType({module:"QtQuick",name:"BorderImage",versions:/.*/,constructor:function(t){function e(){this.dom.style.MozBorderImageSource="url("+engine.$resolvePath(this.source)+")",this.dom.style.MozBorderImageSlice=this.border.top+" "+this.border.right+" "+this.border.bottom+" "+this.border.left,this.dom.style.MozBorderImageRepeat=this.horizontalTileMode+" "+this.verticalTileMode,this.dom.style.MozBorderImageWidth=this.border.top+" "+this.border.right+" "+this.border.bottom+" "+this.border.left,this.dom.style.webkitBorderImageSource="url("+engine.$resolvePath(this.source)+")",this.dom.style.webkitBorderImageSlice=this.border.top+" "+this.border.right+" "+this.border.bottom+" "+this.border.left,this.dom.style.webkitBorderImageRepeat=this.horizontalTileMode+" "+this.verticalTileMode,this.dom.style.webkitBorderImageWidth=this.border.top+" "+this.border.right+" "+this.border.bottom+" "+this.border.left,this.dom.style.OBorderImageSource="url("+engine.$resolvePath(this.source)+")",this.dom.style.OBorderImageSlice=this.border.top+" "+this.border.right+" "+this.border.bottom+" "+this.border.left,this.dom.style.OBorderImageRepeat=this.horizontalTileMode+" "+this.verticalTileMode,this.dom.style.OBorderImageWidth=this.border.top+"px "+this.border.right+"px "+this.border.bottom+"px "+this.border.left+"px",this.dom.style.borderImageSlice=this.border.top+" "+this.border.right+" "+this.border.bottom+" "+this.border.left,this.dom.style.borderImageRepeat=this.horizontalTileMode+" "+this.verticalTileMode,this.dom.style.borderImageWidth=this.border.top+"px "+this.border.right+"px "+this.border.bottom+"px "+this.border.left+"px"}QMLItem.call(this,t);this.BorderImage={Stretch:"stretch",Repeat:"repeat",Round:"round",Null:1,Ready:2,Loading:3,Error:4},createSimpleProperty("url",this,"source"),createSimpleProperty("enum",this,"status"),this.border=new QObject(this),createSimpleProperty("int",this.border,"left"),createSimpleProperty("int",this.border,"right"),createSimpleProperty("int",this.border,"top"),createSimpleProperty("int",this.border,"bottom"),createSimpleProperty("enum",this,"horizontalTileMode"),createSimpleProperty("enum",this,"verticalTileMode"),this.source="",this.status=this.BorderImage.Null,this.border.left=0,this.border.right=0,this.border.top=0,this.border.bottom=0,this.horizontalTileMode=this.BorderImage.Stretch,this.verticalTileMode=this.BorderImage.Stretch,this.sourceChanged.connect(this,function(){this.dom.style.borderImageSource="url("+engine.$resolvePath(this.source)+")"}),this.border.leftChanged.connect(this,e),this.border.rightChanged.connect(this,e),this.border.topChanged.connect(this,e),this.border.bottomChanged.connect(this,e),this.horizontalTileModeChanged.connect(this,e),this.verticalTileModeChanged.connect(this,e)}}),QMLColumn.prototype.layoutChildren=function(){for(var t=0,e=0,n=0;n<this.children.length;n++){var i=this.children[n];i.visible&&i.opacity&&i.width&&i.height&&(e=i.width>e?i.width:e,i.y=t,t+=i.height+this.spacing)}this.implicitWidth=e,this.implicitHeight=t-this.spacing},registerQmlType({module:"QtQuick",name:"Column",versions:/.*/,constructor:QMLColumn}),global.DoubleValidator={StandardNotation:1,ScientificNotation:2},registerQmlType({module:"QtQuick",name:"DoubleValidator",versions:/.*/,constructor:function(t){function e(t){if(Math.round(t)!=t){var e=""+t;return/\d*$/.exec(e)[0].length}return 0}QMLItem.call(this,t),createSimpleProperty("real",this,"bottom"),createSimpleProperty("real",this,"top"),createSimpleProperty("int",this,"decimals"),createSimpleProperty("enum",this,"notation"),this.bottom=-(1/0),this.top=1/0,this.decimals=1e3,this.notation=DoubleValidator.ScientificNotation;var n=/^(-|\+)?\s*[0-9]+(\.[0-9]+)?$/,i=/^(-|\+)?\s*[0-9]+(\.[0-9]+)?(E(-|\+)?[0-9]+)?$/;this.getRegExpForNotation=function(t){switch(t){case DoubleValidator.ScientificNotation:return i;case DoubleValidator.StandardNotation:return n}return null}.bind(this),this.validate=function(t){var n=this.getRegExpForNotation(this.notation),i=n.test(t.trim());if(i){var r=parseFloat(t);i=this.bottom<=r&&this.top>=r,i=i&&e(r)<=this.decimals}return i}.bind(this)}}),QMLFlow.prototype.layoutChildren=function(){for(var t=0,e=0,n=0,i=0;i<this.children.length;i++){var r=this.children[i];r.visible&&r.opacity&&r.width&&r.height&&(0==this.flow?(t+r.width>this.width&&(t=0,
e+=n+this.spacing,n=0),n=r.height>n?r.height:n,r.x=1==this.layoutDirection?this.width-t-r.width:t,r.y=e,t+=r.width+this.spacing):(e+r.height>this.height&&(e=0,t+=n+this.spacing,n=0),n=r.width>n?r.width:n,r.x=1==this.layoutDirection?this.width-t-r.width:t,r.y=e,e+=r.height+this.spacing))}0==this.flow?this.implicitHeight=e+n:this.implicitWidth=t+n},registerQmlType({module:"QtQuick",name:"Flow",versions:/.*/,constructor:QMLFlow}),registerQmlType({module:"QtQuick",name:"Font",versions:/.*/,constructor:function(t){QObject.call(this),createSimpleProperty("bool",this,"bold"),createSimpleProperty("enum",this,"capitalization"),createSimpleProperty("string",this,"family"),createSimpleProperty("bool",this,"italic"),createSimpleProperty("real",this,"letterSpacing"),createSimpleProperty("int",this,"pixelSize"),createSimpleProperty("real",this,"pointSize"),createSimpleProperty("bool",this,"strikeout"),createSimpleProperty("bool",this,"underline"),createSimpleProperty("enum",this,"weight"),createSimpleProperty("real",this,"wordSpacing"),this.pointSizeChanged.connect(function(e){t.dom.firstChild.style.fontSize=e+"pt"}),this.boldChanged.connect(function(e){t.dom.firstChild.style.fontWeight=t.font.weight!==Undefined?t.font.weight:e?"bold":"normal"}),this.capitalizationChanged.connect(function(e){t.dom.firstChild.style.fontVariant="smallcaps"==e?"small-caps":"normal",e="smallcaps"==e?"none":e,t.dom.firstChild.style.textTransform=e}),this.familyChanged.connect(function(e){t.dom.firstChild.style.fontFamily=e}),this.italicChanged.connect(function(e){t.dom.firstChild.style.fontStyle=e?"italic":"normal"}),this.letterSpacingChanged.connect(function(e){t.dom.firstChild.style.letterSpacing=e!==Undefined?e+"px":""}),this.pixelSizeChanged.connect(function(e){var n=e!==Undefined?e+"px ":(t.font.pointSize||10)+"pt";t.dom.style.fontSize=n,t.dom.firstChild.style.fontSize=n}),this.pointSizeChanged.connect(function(e){var n=t.font.pixelSize!==Undefined?t.font.pixelSize+"px ":(e||10)+"pt";t.dom.style.fontSize=n,t.dom.firstChild.style.fontSize=n}),this.strikeoutChanged.connect(function(e){t.dom.firstChild.style.textDecoration=e?"line-through":t.font.underline?"underline":"none"}),this.underlineChanged.connect(function(e){t.dom.firstChild.style.textDecoration=t.font.strikeout?"line-through":e?"underline":"none"}),this.weightChanged.connect(function(e){t.dom.firstChild.style.fontWeight=e!==Undefined?e:t.font.bold?"bold":"normal"}),this.wordSpacingChanged.connect(function(e){t.dom.firstChild.style.wordSpacing=e!==Undefined?e+"px":""})}}),registerQmlType({module:"QtQuick",name:"FontLoader",versions:/.*/,constructor:function(t){function e(t,n){if(o===t){if(n>0){var r=i.name;s=!0,i.name="sans-serif",i.name=r,s=!1}n<u.length&&setTimeout(function(){e(t,n+1)},u[n]-(n>0?u[n-1]:0))}}function n(t){if(o!==t&&!s){if(o=t,!t)return void(i.status=i.FontLoader.Null);if(i.status=i.FontLoader.Loading,"undefined"!=typeof FontLoader){var n=new FontLoader([t],{fontsLoaded:function(e){null!==e&&o===t&&e.notLoadedFontFamilies[0]===t&&(i.name=t,i.status=i.FontLoader.Error)},fontLoaded:function(e){o===t&&e==t&&(i.name=t,i.status=i.FontLoader.Ready)}},u[u.length-1]);FontLoader.testDiv=null,n.loadFonts()}else console.warn("FontLoader.js library is not loaded.\nYou should load https://github.com/smnh/FontLoader if you want to use QtQuick FontLoader elements."),i.status=i.FontLoader.Error,i.name=t,e(t,0)}}QMLBaseObject.call(this,t),this.FontLoader={Null:0,Ready:1,Loading:2,Error:3},createSimpleProperty("string",this,"name"),createSimpleProperty("url",this,"source"),createSimpleProperty("enum",this,"status"),this.status=this.FontLoader.Null;var i=this,r=document.createElement("style"),o="",s=!1,u=[20,50,100,300,500,1e3,3e3,5e3,1e4,15e3];this.sourceChanged.connect(this,function(t){var e="font_"+(new Date).getTime().toString(36)+"_"+Math.round(1e15*Math.random()).toString(36);r.innerHTML="@font-face { font-family: '"+e+"'; src: url('"+engine.$resolvePath(t)+"'); }",document.getElementsByTagName("head")[0].appendChild(r),n(e)}),this.nameChanged.connect(this,n)}}),registerQmlType({module:"QtQuick",name:"Grid",versions:/.*/,constructor:QMLGrid}),QMLGrid.prototype.layoutChildren=function(){for(var t=[],e=0,n=0,i=[],r=[],o=-this.spacing,s=-this.spacing,u=0,a=0,c=0;c<this.children.length;c++){var l=this.children[c];l.visible&&l.opacity&&l.width&&l.height&&t.push(this.children[c])}if(this.columns||this.rows?this.columns?(n=this.columns,e=Math.ceil(t.length/n)):(e=this.rows,n=Math.ceil(t.length/e)):(n=4,e=Math.ceil(t.length/4)),0==this.flow)for(var c=0;e>c;c++)for(var h=0;n>h;h++){var p=t[c*n+h];if(!p)break;(!i[h]||p.width>i[h])&&(i[h]=p.width),(!r[c]||p.height>r[c])&&(r[c]=p.height)}else for(var c=0;n>c;c++)for(var h=0;e>h;h++){var p=t[c*e+h];if(!p)break;(!r[h]||p.height>r[h])&&(r[h]=p.height),(!i[c]||p.width>i[c])&&(i[c]=p.width)}for(var c in i)o+=i[c]+this.spacing;for(var c in r)s+=r[c]+this.spacing;var d=1==this.layoutDirection?-1:1,f=1==this.layoutDirection?n-1:0,m=1==this.layoutDirection?-1:n;if(0==this.flow)for(var c=0;e>c;c++){for(var h=f;h!==m;h+=d){var p=t[c*n+h];if(!p)break;p.x=u,p.y=a,u+=i[h]+this.spacing}a+=r[c]+this.spacing,u=0}else for(var c=f;c!==m;c+=d){for(var h=0;e>h;h++){var p=t[c*e+h];if(!p)break;p.x=u,p.y=a,a+=r[h]+this.spacing}u+=i[c]+this.spacing,a=0}this.implicitWidth=o,this.implicitHeight=s},registerQmlType({module:"QtQuick",name:"Image",versions:/.*/,constructor:function(t){QMLItem.call(this,t);var e=new Image,n=this;this.Image={Stretch:1,PreserveAspectFit:2,PreserveAspectCrop:3,Tile:4,TileVertically:5,TileHorizontally:6,Null:1,Ready:2,Loading:3,Error:4},createSimpleProperty("bool",this,"asynchronous"),createSimpleProperty("bool",this,"cache"),createSimpleProperty("bool",this,"smooth"),createSimpleProperty("enum",this,"fillMode"),createSimpleProperty("bool",this,"mirror"),createSimpleProperty("real",this,"progress"),createSimpleProperty("url",this,"source"),createSimpleProperty("enum",this,"status"),this.sourceSize=new QObject(this),createSimpleProperty("int",this.sourceSize,"width"),createSimpleProperty("int",this.sourceSize,"height"),this.asynchronous=!0,this.cache=!0,this.smooth=!0,this.fillMode=this.Image.Stretch,this.mirror=!1,this.progress=0,this.source="",this.status=this.Image.Null,this.sourceSize.width=0,this.sourceSize.height=0,e.onload=function(){n.progress=1,n.status=n.Image.Ready;var t=e.naturalWidth,i=e.naturalHeight;n.sourceSize.width=t,n.sourceSize.height=i,n.implicitWidth=t,n.implicitHeight=i},e.onerror=function(){n.status=n.Image.Error};var i=function(t){switch("undefined"==typeof t&&(t=this.fillMode),t){default:case this.Image.Stretch:this.dom.style.backgroundRepeat="auto",this.dom.style.backgroundSize="100% 100%",this.dom.style.backgroundPosition="auto";break;case this.Image.Tile:this.dom.style.backgroundRepeat="auto",this.dom.style.backgroundSize="auto",this.dom.style.backgroundPosition="auto";break;case this.Image.PreserveAspectFit:this.dom.style.backgroundRepeat="no-repeat",this.dom.style.backgroundSize="contain",this.dom.style.backgroundPosition="center";break;case this.Image.PreserveAspectCrop:this.dom.style.backgroundRepeat="no-repeat",this.dom.style.backgroundSize="cover",this.dom.style.backgroundPosition="center";break;case this.Image.TileVertically:this.dom.style.backgroundRepeat="repeat-y",this.dom.style.backgroundSize="100% auto",this.dom.style.backgroundPosition="auto";break;case this.Image.TileHorizontally:this.dom.style.backgroundRepeat="repeat-x",this.dom.style.backgroundSize="auto 100%",this.dom.style.backgroundPosition="auto"}};i=i.bind(this);var r=function(t){var e="scale(-1,1)";if(t)this.transform.push(e);else{var n=this.transform.indexOf(e);n>=0&&this.transform.splice(n,1)}this.$updateTransform()}.bind(this);this.sourceChanged.connect(this,function(t){this.progress=0,this.status=this.Image.Loading,this.dom.style.backgroundImage="url('"+engine.$resolvePath(t)+"')",e.src=engine.$resolvePath(t),e.complete&&(this.status=this.Image.Ready),i()}),this.mirrorChanged.connect(this,r),this.fillModeChanged.connect(this,i),this.$drawItem=function(t){i(),this.status==this.Image.Ready?(t.save(),t.drawImage(e,this.left,this.top,this.width,this.height),t.restore()):console.log("Waiting for image to load")}}}),registerQmlType({module:"QtQuick",name:"IntValidator",versions:/.*/,constructor:function(t){QMLItem.call(this,t),createSimpleProperty("int",this,"bottom"),createSimpleProperty("int",this,"top"),this.bottom=-2147483647,this.top=2147483647,this.validate=function(t){var e=/^(-|\+)?\s*[0-9]+$/,n=e.test(t.trim());if(n){var i=parseInt(t);n=this.bottom<=i&&this.top>=i}return n}.bind(this)}}),registerQmlType({module:"QtQuick",name:"ListElement",versions:/.*/,constructor:function(t){QMLBaseObject.call(this,t);for(var e in t.object)"$"!=e[0]&&createSimpleProperty("variant",this,e);applyProperties(t.object,this,this,this.$context)}}),registerQmlType({module:"QtQuick",name:"ListModel",versions:/.*/,constructor:function(t){QMLBaseObject.call(this,t);var e=this,n=!0,i=getConstructor("QtQuick","2.0","ListElement");createSimpleProperty("int",this,"count"),createSimpleProperty("list",this,"$items"),this.$defaultProperty="$items",this.$items=[],this.$model=new JSItemModel,this.count=0,this.$itemsChanged.connect(this,function(t){if(n){n=!1;var e=[],r=t[0];for(var o in r instanceof i?r.$properties:r)"index"!=o&&e.push(o);this.$model.setRoleNames(e)}this.count=this.$items.length}),this.$model.data=function(t,n){return e.$items[t][n]},this.$model.rowCount=function(){return e.$items.length},this.append=function(t){this.insert(this.$items.length,t)},this.clear=function(){this.$items=[],this.$model.modelReset(),this.count=0},this.get=function(t){return this.$items[t]},this.insert=function(t,e){this.$items.splice(t,0,e),this.$itemsChanged(this.$items),this.$model.rowsInserted(t,t+1)},this.move=function(t,e,n){for(var i=this.$items.splice(t,n),r=0;r<i.length;r++)this.$items.splice(e+r,0,i[r]);this.$model.rowsMoved(t,t+n,e)},this.remove=function(t){this.$items.splice(t,1),this.$model.rowsRemoved(t,t+1),this.count=this.$items.length},this.set=function(t,e){this.$items[t]=e},this.setProperty=function(t,e,n){this.$items[t][e]=n}}}),registerQmlType({module:"QtQuick",name:"ListView",versions:/.*/,constructor:function(t){function e(t){t.dom.style.position="initial",i.orientation==Qt.Horizontal?(t.dom.style.display="inline-block",t!=i.$items[0]&&(t.dom.style["margin-left"]=i.spacing+"px")):(t.dom.style.display="block",t!=i.$items[0]&&(t.dom.style["margin-top"]=i.spacing+"px"))}function n(){for(var t=0;t<i.$items.length;++t)e(i.$items[t])}var i=this,r=getConstructor("QtQuick","2.0","Repeater");r.call(this,t),createSimpleProperty("enum",this,"orientation"),createSimpleProperty("real",this,"spacing"),this.container=function(){return i},this.modelChanged.connect(n),this.delegateChanged.connect(n),this.orientationChanged.connect(n),this.spacingChanged.connect(n),this._childrenInserted.connect(e)}}),registerQmlType({module:"QtQuick",name:"MouseArea",versions:/.*/,constructor:function(t){function e(t){return{accepted:!0,button:0==t.button?Qt.LeftButton:1==t.button?Qt.MiddleButton:2==t.button?Qt.RightButton:0,modifiers:t.ctrlKey*Qt.CtrlModifier|t.altKey*Qt.AltModifier|t.shiftKey*Qt.ShiftModifier|t.metaKey*Qt.MetaModifier,x:t.offsetX||t.layerX,y:t.offsetY||t.layerY}}function n(t){var n=e(t);return i.enabled&&i.acceptedButtons&n.button&&i.clicked(n),!(i.acceptedButtons&Qt.RightButton)}QMLItem.call(this,t);var i=this;this.dom.style.pointerEvents="all",this.dom.style.backgroundColor="white",this.dom.style.opacity=0,createSimpleProperty("variant",this,"acceptedButtons"),createSimpleProperty("bool",this,"enabled"),createSimpleProperty("bool",this,"hoverEnabled"),createSimpleProperty("real",this,"mouseX"),createSimpleProperty("real",this,"mouseY"),createSimpleProperty("bool",this,"pressed"),createSimpleProperty("bool",this,"containsMouse"),this.clicked=Signal([{type:"variant",name:"mouse"}]),this.entered=Signal(),this.exited=Signal(),this.positionChanged=Signal([{type:"variant",name:"mouse"}]),this.acceptedButtons=Qt.LeftButton,this.enabled=!0,this.hoverEnabled=!1,this.containsMouse=!1,this.dom.onclick=n,this.dom.oncontextmenu=n,this.dom.onmousedown=function(t){if(i.enabled){var n=e(t);i.mouseX=n.x,i.mouseY=n.y,i.pressed=!0}},this.dom.onmouseup=function(t){i.pressed=!1},this.dom.onmouseover=function(t){i.containsMouse=!0,i.entered()},this.dom.onmouseout=function(t){i.containsMouse=!1,i.exited()},this.dom.onmousemove=function(t){if(i.enabled&&(i.hoverEnabled||i.pressed)){var n=e(t);i.positionChanged(n),i.mouseX=n.x,i.mouseY=n.y}}}}),registerQmlType({module:"QtQuick",name:"NumberAnimation",versions:/.*/,constructor:function(t){function e(t,e){if((s.running||-1===o)&&!s.paused)if(0!=r||0!=o||s.$actions.length||s.$redoActions(),r+=e/s.duration,r>=1)s.complete();else for(var n in s.$actions){var i=s.$actions[n],u=s.easing.$valueForProgress(r)*(i.to-i.from)+i.from;i.target.$properties[i.property].set(u,!0)}}function n(){for(var t in this.$actions){var e=this.$actions[t];e.from=e.from!==Undefined?e.from:e.target[e.property]}r=0}var i=getConstructor("QtQuick","2.0","PropertyAnimation");i.call(this,t);var r=0,o=0,s=this;engine.$addTicker(e),this.runningChanged.connect(this,function(t){t?(n.call(this),this.paused=!1):this.alwaysRunToEnd&&1>r?o=-1:(o=0,this.$actions=[])}),this.complete=function(){for(var t in this.$actions){var e=this.$actions[t];e.target.$properties[e.property].set(e.to,!0)}++o==this.loops?this.running=!1:this.running?n.call(this):this.$actions=[]}}}),registerQmlType({module:"QtQuick",name:"ParallelAnimation",versions:/.*/,constructor:function(t){function e(t){this.$runningAnimations+=t?1:-1,0===this.$runningAnimations&&(this.running=!1)}var n=getConstructor("QtQuick","2.0","Animation");n.call(this,t);var i;this.Animation={Infinite:Math.Infinite},createSimpleProperty("list",this,"animations"),this.$defaultProperty="animations",this.animations=[],this.$runningAnimations=0,this.animationsChanged.connect(this,function(){for(i=0;i<this.animations.length;i++)this.animations[i].runningChanged.isConnected(this,e)||this.animations[i].runningChanged.connect(this,e)}),this.start=function(){if(!this.running)for(this.running=!0,i=0;i<this.animations.length;i++)this.animations[i].start()},this.stop=function(){if(this.running){for(i=0;i<this.animations.length;i++)this.animations[i].stop();this.running=!1}},this.complete=this.stop,engine.$registerStart(function(){self.running&&(self.running=!1,self.start())}),engine.$registerStop(function(){self.stop()})}}),registerQmlType({module:"QtQuick",name:"PropertyAnimation",versions:/.*/,constructor:function(t){function e(){this.$props=this.properties.split(",");for(var t=0;t<this.$props.length;t++){var e=this.$props[t].match(/\w+/);e?this.$props[t]=e[0]:(this.$props.splice(t,1),t--)}this.property&&-1===this.$props.indexOf(this.property)&&this.$props.push(this.property)}function n(){this.$targets=this.targets.slice(),this.target&&-1===this.$targets.indexOf(this.target)&&this.$targets.push(this.target)}var i=getConstructor("QtQuick","2.0","Animation");i.call(this,t),createSimpleProperty("int",this,"duration"),createSimpleProperty("real",this,"from"),createSimpleProperty("string",this,"properties"),createSimpleProperty("string",this,"property"),createSimpleProperty("QtObject",this,"target"),createSimpleProperty("list",this,"targets"),createSimpleProperty("real",this,"to"),this.easing=new QObject(this),createSimpleProperty("enum",this.easing,"type"),createSimpleProperty("real",this.easing,"amplitude"),createSimpleProperty("real",this.easing,"overshoot"),createSimpleProperty("real",this.easing,"period"),this.easing.$valueForProgress=function(t){switch(this.type){case Easing.InQuad:return Math.pow(t,2);case Easing.OutQuad:return-Math.pow(t-1,2)+1;case Easing.InOutQuad:return.5>t?2*Math.pow(t,2):-2*Math.pow(t-1,2)+1;case Easing.OutInQuad:return.5>t?-2*Math.pow(t-.5,2)+.5:2*Math.pow(t-.5,2)+.5;case Easing.InCubic:return Math.pow(t,3);case Easing.OutCubic:return Math.pow(t-1,3)+1;case Easing.InOutCubic:return.5>t?4*Math.pow(t,3):4*Math.pow(t-1,3)+1;case Easing.OutInCubic:return 4*Math.pow(t-.5,3)+.5;case Easing.InQuart:return Math.pow(t,4);case Easing.OutQuart:return-Math.pow(t-1,4)+1;case Easing.InOutQuart:return.5>t?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1;case Easing.OutInQuart:return.5>t?-8*Math.pow(t-.5,4)+.5:8*Math.pow(t-.5,4)+.5;case Easing.InQuint:return Math.pow(t,5);case Easing.OutQuint:return Math.pow(t-1,5)+1;case Easing.InOutQuint:return.5>t?16*Math.pow(t,5):16*Math.pow(t-1,5)+1;case Easing.OutInQuint:return.5>t?16*Math.pow(t-.5,5)+.5:16*Math.pow(t-.5,5)+.5;case Easing.InSine:return-Math.cos(.5*Math.PI*t)+1;case Easing.OutSine:return Math.sin(.5*Math.PI*t);case Easing.InOutSine:return-.5*Math.cos(Math.PI*t)+.5;case Easing.OutInSine:return.5>t?.5*Math.sin(Math.PI*t):-.5*Math.sin(Math.PI*t)+1;case Easing.InExpo:return 1/1023*(Math.pow(2,10*t)-1);case Easing.OutExpo:return-(1024/1023)*(Math.pow(2,-10*t)-1);case Easing.InOutExpo:return.5>t?1/62*(Math.pow(2,10*t)-1):-(512/31)*Math.pow(2,-10*t)+63/62;case Easing.OutInExpo:return.5>t?-(16/31)*(Math.pow(2,-10*t)-1):1/1984*Math.pow(2,10*t)+15/31;case Easing.InCirc:return 1-Math.sqrt(1-t*t);case Easing.OutCirc:return Math.sqrt(1-Math.pow(t-1,2));case Easing.InOutCirc:return.5>t?.5*(1-Math.sqrt(1-4*t*t)):.5*(Math.sqrt(1-4*Math.pow(t-1,2))+1);case Easing.OutInCirc:return.5>t?.5*Math.sqrt(1-Math.pow(2*t-1,2)):.5*(2-Math.sqrt(1-Math.pow(2*t-1,2)));case Easing.InElastic:return-this.amplitude*Math.pow(2,10*t-10)*Math.sin(2*t*Math.PI/this.period-Math.asin(1/this.amplitude));case Easing.OutElastic:return this.amplitude*Math.pow(2,-10*t)*Math.sin(2*t*Math.PI/this.period-Math.asin(1/this.amplitude))+1;case Easing.InOutElastic:return.5>t?-.5*this.amplitude*Math.pow(2,20*t-10)*Math.sin(4*t*Math.PI/this.period-Math.asin(1/this.amplitude)):-.5*this.amplitude*Math.pow(2,-20*t+10)*Math.sin(4*t*Math.PI/this.period+Math.asin(1/this.amplitude))+1;case Easing.OutInElastic:return.5>t?.5*this.amplitude*Math.pow(2,-20*t)*Math.sin(4*t*Math.PI/this.period-Math.asin(1/this.amplitude))+.5:-.5*this.amplitude*Math.pow(2,20*t-20)*Math.sin(4*t*Math.PI/this.period-Math.asin(1/this.amplitude))+.5;case Easing.InBack:return(this.overshoot+1)*Math.pow(t,3)-this.overshoot*Math.pow(t,2);case Easing.OutBack:return(this.overshoot+1)*Math.pow(t-1,3)+this.overshoot*Math.pow(t-1,2)+1;case Easing.InOutBack:return.5>t?4*(this.overshoot+1)*Math.pow(t,3)-2*this.overshoot*Math.pow(t,2):.5*(this.overshoot+1)*Math.pow(2*t-2,3)+this.overshoot/2*Math.pow(2*t-2,2)+1;case Easing.OutInBack:return.5>t?.5*((this.overshoot+1)*Math.pow(2*t-1,3)+this.overshoot*Math.pow(2*t-1,2)+1):4*(this.overshoot+1)*Math.pow(t-.5,3)-2*this.overshoot*Math.pow(t-.5,2)+.5;case Easing.InBounce:return 1/11>t?7.5625*-this.amplitude*(t*t-1/11*t):3/11>t?7.5625*-this.amplitude*(t*t-4/11*t+3/121):7/11>t?7.5625*-this.amplitude*(t*t-10/11*t+21/121):-7.5625*(t*t-2*t+1)+1;case Easing.OutBounce:return 4/11>t?7.5625*t*t:8/11>t?7.5625*this.amplitude*(t*t-12/11*t+32/121)+1:10/11>t?7.5625*this.amplitude*(t*t-18/11*t+80/121)+1:7.5625*this.amplitude*(t*t-21/11*t+10/11)+1;case Easing.InOutBounce:return 1/22>t?-this.amplitude*(121/8)*(t*t-1/22*t):3/22>t?-this.amplitude*(121/8)*(t*t-2/11*t+3/484):7/22>t?-this.amplitude*(121/8)*(t*t-5/11*t+21/484):.5>t?-15.125*(t*t-t+.25)+.5:15/22>t?121/8*(t*t-t)+137/32:19/22>t?this.amplitude*(121/8)*(t*t-17/11*t+285/484)+1:21/22>t?this.amplitude*(121/8)*(t*t-20/11*t+399/484)+1:this.amplitude*(121/8)*(t*t-43/22*t+21/22)+1;case Easing.OutInBounce:return 4/22>t?121/8*t*t:8/22>t?-this.amplitude*(121/8)*(t*t-6/11*t+8/121)+.5:10/22>t?-this.amplitude*(121/8)*(t*t-9/11*t+20/121)+.5:.5>t?-this.amplitude*(121/8)*(t*t-21/22*t+5/22)+.5:12/22>t?this.amplitude*(121/8)*(t*t-23/22*t+3/11)+.5:14/22>t?this.amplitude*(121/8)*(t*t-13/11*t+42/121)+.5:18/22>t?this.amplitude*(121/8)*(t*t-16/11*t+63/121)+.5:-15.125*(t*t-2*t+117/121)+.5;default:console.log("Unsupported animation type: ",this.type);case Easing.Linear:return t}},this.$redoActions=function(){this.$actions=[];for(var t=0;t<this.$targets.length;t++)for(var e in this.$props)this.$actions.push({target:this.$targets[t],property:this.$props[e],from:this.from,to:this.to})},this.duration=250,this.easing.type=Easing.Linear,this.easing.amplitude=1,this.easing.period=.3,this.easing.overshoot=1.70158,this.$props=[],this.$targets=[],this.$actions=[],this.properties="",this.targets=[],this.targetChanged.connect(this,n),this.targetsChanged.connect(this,n),this.propertyChanged.connect(this,e),this.propertiesChanged.connect(this,e),void 0!==t.object.$on&&(this.property=t.object.$on,this.target=this.$parent)}}),registerQmlType({module:"QtQuick",name:"Rectangle",versions:/.*/,constructor:function(t){QMLItem.call(this,t),createSimpleProperty("color",this,"color"),createSimpleProperty("real",this,"radius"),this.border=new QObject(this),createSimpleProperty("color",this.border,"color"),createSimpleProperty("int",this.border,"width"),this.colorChanged.connect(this,function(t){this.dom.style.backgroundColor=t}),this.radiusChanged.connect(this,function(t){this.dom.style.borderRadius=t+"px"}),this.border.colorChanged.connect(this,function(t){this.dom.style.borderColor=t,this.dom.style.borderStyle=0==this.border.width||"transparent"==t?"none":"solid"}),this.border.widthChanged.connect(this,function(t){this.dom.style.borderWidth=t+"px",this.dom.style.borderStyle=0==t||"transparent"==this.border.color?"none":"solid"}),this.color="white",this.border.color="transparent",this.border.width=1,this.radius=0,this.$drawItem=function(t){if(t.save(),t.fillStyle=this.color,t.strokeStyle=this.border.color,t.lineWidth=this.border.width,this.radius){var e=this.left+this.width,n=this.top+this.height;t.beginPath(),t.moveTo(this.left+this.radius,this.top),t.lineTo(e-this.radius,this.top),t.quadraticCurveTo(e,this.top,e,this.top+this.radius),t.lineTo(e,this.top+this.height-this.radius),t.quadraticCurveTo(e,n,e-this.radius,n),t.lineTo(this.left+this.radius,n),t.quadraticCurveTo(this.left,n,this.left,n-this.radius),t.lineTo(this.left,this.top+this.radius),t.quadraticCurveTo(this.left,this.top,this.left+this.radius,this.top),t.stroke(),t.fill()}else t.fillRect(this.left,this.top,this.width,this.height),t.strokeRect(this.left,this.top,this.width,this.height);t.restore()}}}),registerQmlType({module:"QtQuick",name:"RegExpValidator",versions:/.*/,constructor:function(t){QMLItem.call(this,t),createSimpleProperty("var",this,"regExp"),this.validate=function(t){return"undefined"==typeof this.regExp||null==this.regExp?!0:this.regExp.test(t)}.bind(this)}}),registerQmlType({module:"QtQuick",name:"Repeater",versions:/.*/,constructor:function(t){function e(t){t.Component.completed();for(var n=0;n<t.children.length;n++)e(t.children[n])}function n(t,n){for(var i=t;n>i;i++){var r=s.delegate.createObject(s);createSimpleProperty("int",r,"index");var o=s.model instanceof u?s.model.$model:s.model;for(var a in o.roleNames)"undefined"==typeof r.$properties[o.roleNames[a]]&&createSimpleProperty("variant",r,o.roleNames[a]),r.$properties[o.roleNames[a]].set(o.data(i,o.roleNames[a]),!0,r,s.model.$context);s.container().children.splice(s.parent.children.indexOf(s)-s.$items.length+i,0,r),r.parent=s.container(),s.container().childrenChanged(),s.$items.splice(i,0,r),r.index=i,engine.operationState!==QMLOperationState.Init&&(engine.$initializePropertyBindings(),e(r))}for(var a=n;a<s.$items.length;a++)s.$items[a].index=a;s.count=s.$items.length}function i(){if(s.delegate){var t=s.model instanceof u?s.model.$model:s.model;t instanceof JSItemModel?(t.dataChanged.connect(function(t,e){}),t.rowsInserted.connect(n),t.rowsMoved.connect(function(t,e,n){for(var i=s.$items.splice(t,e-t),r=0;r<i.length;r++)s.$items.splice(n+r,0,i[r]);for(var o=n>t?t:n,r=o;r<s.$items.length;r++)s.$items[r].index=r}),t.rowsRemoved.connect(function(t,e){r(t,e);for(var n=t;n<s.$items.length;n++)s.$items[n].index=n;s.count=s.$items.length}),t.modelReset.connect(function(){r(0,s.$items.length),n(0,t.rowCount())}),n(0,t.rowCount())):"number"==typeof t&&(r(0,s.$items.length),n(0,t))}}function r(t,e){var n=s.$items.splice(t,e-t);for(var i in n)n[i].$delete(),n[i].parent=void 0,o(n[i])}function o(t){engine.completedSignals.splice(engine.completedSignals.indexOf(t.Component.completed),1);for(var e=0;e<t.children.length;e++)o(t.children[e])}QMLItem.call(this,t);var s=this,u=getConstructor("QtQuick","2.0","ListModel");createSimpleProperty("Component",this,"delegate"),this.container=function(){return this.parent},this.$defaultProperty="delegate",createSimpleProperty("variant",this,"model"),createSimpleProperty("int",this,"count"),this.$completed=!1,this.$items=[],this._childrenInserted=Signal(),this.modelChanged.connect(i),this.delegateChanged.connect(i),this.model=0,this.count=0,this.itemAt=function(t){return this.$items[t]}}}),registerQmlType({module:"QtQuick",name:"Rotation",versions:/.*/,constructor:function(t){function e(){this.$parent.dom.style.transformOrigin=this.origin.x+"px "+this.origin.y+"px",this.$parent.dom.style.MozTransformOrigin=this.origin.x+"px "+this.origin.y+"px",this.$parent.dom.style.webkitTransformOrigin=this.origin.x+"px "+this.origin.y+"px"}QMLBaseObject.call(this,t),createSimpleProperty("real",this,"angle"),this.axis=new QObject(this),createSimpleProperty("real",this.axis,"x"),createSimpleProperty("real",this.axis,"y"),createSimpleProperty("real",this.axis,"z"),this.origin=new QObject(this),createSimpleProperty("real",this.origin,"x"),createSimpleProperty("real",this.origin,"y"),this.angleChanged.connect(this.$parent,this.$parent.$updateTransform),this.axis.xChanged.connect(this.$parent,this.$parent.$updateTransform),this.axis.yChanged.connect(this.$parent,this.$parent.$updateTransform),this.axis.zChanged.connect(this.$parent,this.$parent.$updateTransform),this.origin.xChanged.connect(this,e),this.origin.yChanged.connect(this,e),this.angle=0,this.axis.x=0,this.axis.y=0,this.axis.z=1,this.origin.x=0,this.origin.y=0}}),registerQmlType({module:"QtQuick",name:"Row",versions:/.*/,constructor:QMLRow}),QMLRow.prototype.layoutChildren=function(){for(var t=0,e=0,n=1==this.layoutDirection?this.children.length-1:0,i=1==this.layoutDirection?-1:this.children.length,r=1==this.layoutDirection?-1:1;n!==i;n+=r){var o=this.children[n];o.visible&&o.opacity&&o.width&&o.height&&(e=o.height>e?o.height:e,o.x=t,t+=o.width+this.spacing)}this.implicitHeight=e,this.implicitWidth=t-this.spacing},registerQmlType({module:"QtQuick",name:"Scale",versions:/.*/,constructor:function(t){function e(){this.$parent.dom.style.transformOrigin=this.origin.x+"px "+this.origin.y+"px",this.$parent.dom.style.MozTransformOrigin=this.origin.x+"px "+this.origin.y+"px",this.$parent.dom.style.webkitTransformOrigin=this.origin.x+"px "+this.origin.y+"px"}QMLBaseObject.call(this,t),createSimpleProperty("real",this,"xScale"),createSimpleProperty("real",this,"yScale"),this.origin=new QObject(this),createSimpleProperty("real",this.origin,"x"),createSimpleProperty("real",this.origin,"y"),this.xScaleChanged.connect(this.$parent,this.$parent.$updateTransform),this.yScaleChanged.connect(this.$parent,this.$parent.$updateTransform),this.origin.xChanged.connect(this,e),this.origin.yChanged.connect(this,e),this.xScale=0,this.yScale=0,this.origin.x=0,this.origin.y=0}}),registerQmlType({module:"QtQuick",name:"SequentialAnimation",versions:/.*/,constructor:function(t){function e(t){var n;s.running&&!t&&(i++,i<s.animations.length?(n=s.animations[i],console.log("nextAnimation",s,i,n),descr("",n,["target"]),n.start()):(r++,r>=s.loops?s.complete():(i=-1,e())))}var n=getConstructor("QtQuick","2.0","Animation");n.call(this,t);var i,r,o,s=this;createSimpleProperty("list",this,"animations"),this.$defaultProperty="animations",this.animations=[],this.animationsChanged.connect(this,function(){for(o=0;o<this.animations.length;o++)this.animations[o].runningChanged.isConnected(e)||this.animations[o].runningChanged.connect(e)}),this.start=function(){this.running||(this.running=!0,i=-1,r=0,e())},this.stop=function(){this.running&&(this.running=!1,i<this.animations.length&&this.animations[i].stop())},this.complete=function(){this.running&&(i<this.animations.length&&this.animations[i].stop(),this.running=!1)},engine.$registerStart(function(){s.running&&(s.running=!1,s.start())}),engine.$registerStop(function(){s.stop()})}}),registerQmlType({module:"QtQuick",name:"State",versions:/.*/,constructor:function(t){QMLBaseObject.call(this,t),createSimpleProperty("string",this,"name"),createSimpleProperty("list",this,"changes"),this.$defaultProperty="changes",createSimpleProperty("string",this,"extend"),createSimpleProperty("bool",this,"when"),this.changes=[],this.$item=this.$parent,this.whenChanged.connect(this,function(t){t?this.$item.state=this.name:this.$item.state==this.name&&(this.$item.state="")}),this.$getAllChanges=function(){if(!this.extend)return this.changes;for(var t=0;t<this.$item.states.length;t++)if(this.$item.states[t].name==this.extend)return this.$item.states[t].$getAllChanges().concat(this.changes)}}}),window.SystemPalette={Active:"active",Inactive:"inactive",Disabled:"disabled"},window.platformsDetectors=[{name:"OSX",regexp:/Macintosh/}],window.systemPalettes={},registerQmlType({module:"QtQuick",name:"SystemPalette",versions:/.*/,constructor:function(t){QMLBaseObject.call(this,t),createSimpleProperty("enum",this,"colorGroup");for(var e=["alternateBase","base","button","buttonText","dark","highlight","highlightedText","light","mid","midlight","shadow","text","window","windowText"],n="OSX",i=0;i<e.length;++i)createSimpleProperty("color",this,e[i],"ro");createSimpleProperty("enum",this,"colorGroup"),this.colorGroupChanged.connect(this,function(t){this.$canEditReadOnlyProperties=!0;for(var i=0;i<e.length;++i)this[e[i]]=systemPalettes[n][t][e[i]];delete this.$canEditReadOnlyProperties}.bind(this));for(var i=0;i<platformsDetectors.length;++i)if(platformsDetectors[i].regexp.test(navigator.userAgent)){platforms=platformsDetectors[i].name;break}}}),window.systemPalettes.OSX={active:{alternateBase:"#f6f6f6",base:"#ffffff",button:"#ededed",buttonText:"#000000",dark:"#bfbfbf",highlight:"#fbed73",highlightText:"#000000",light:"#ffffff",mid:"#a9a9a9",midlight:"#f6f6f6",shadow:"#8b8b8b",text:"#000000",window:"#ededed",windowText:"#000000"},inactive:{alternateBase:"#f6f6f6",base:"#ffffff",button:"#ededed",buttonText:"#000000",dark:"#bfbfbf",highlight:"#d0d0d0",highlightText:"#000000",light:"#ffffff",mid:"#a9a9a9",midlight:"#f6f6f6",shadow:"#8b8b8b",text:"#000000",window:"#ededed",windowText:"#000000"},disabled:{alternateBase:"#f6f6f6",base:"#ededed",button:"#ededed",buttonText:"#949494",dark:"#bfbfbf",highlight:"#d0d0d0",highlightText:"#7f7f7f",light:"#ffffff",mid:"#a9a9a9",midlight:"#f6f6f6",shadow:"#8b8b8b",text:"#7f7f7f",window:"#ededed",windowText:"#7f7f7f"}},registerQmlType({module:"QtQuick",name:"TestPlugin",versions:/.*/,constructor:function(t){function e(){for(var t="[",e=0;e<n.data.length;++e)t+=" "+n.data[e];t+=" ]",n.dom.textContent=t}QMLItem.call(this,t);var n=this;createSimpleProperty("string",this,"name"),createSimpleProperty("var",this,"data"),this.name="default name",this.data=["###",2,"three",4,"###"],this.testPluginSignal=Signal(),e()}}),registerQmlType({module:"QtQuick",name:"Text",versions:/.*/,constructor:function(t){function e(){var t;t=this.text===Undefined||""===this.text?0:this.dom?this.dom.firstChild.offsetHeight:0,this.implicitHeight=t}function n(){var t;t=this.text===Undefined||""===this.text?0:this.dom?this.dom.firstChild.offsetWidth:0,this.implicitWidth=t}QMLItem.call(this,t),this.dom.innerHTML="<span></span>",this.dom.style.pointerEvents="auto",this.dom.firstChild.style.width="100%",this.dom.firstChild.style.height="100%",this.Text={NoWrap:0,WordWrap:1,WrapAnywhere:2,Wrap:3,WrapAtWordBoundaryOrAnywhere:3,AlignLeft:"left",AlignRight:"right",AlignHCenter:"center",AlignJustify:"justify",Normal:0,Outline:1,Raised:2,Sunken:3};var i=new getConstructor("QtQuick","2.0","Font");

this.font=new i(this),createSimpleProperty("color",this,"color"),createSimpleProperty("string",this,"text"),createSimpleProperty("real",this,"lineHeight"),createSimpleProperty("enum",this,"wrapMode"),createSimpleProperty("enum",this,"horizontalAlignment"),createSimpleProperty("enum",this,"style"),createSimpleProperty("color",this,"styleColor"),this.colorChanged.connect(this,function(t){this.dom.firstChild.style.color=t}),this.textChanged.connect(this,function(t){this.dom.firstChild.innerHTML=t}),this.lineHeightChanged.connect(this,function(t){this.dom.firstChild.style.lineHeight=t+"px"}),this.wrapModeChanged.connect(this,function(t){switch(t){case 0:this.dom.firstChild.style.whiteSpace="pre";break;case 1:this.dom.firstChild.style.whiteSpace="pre-wrap";break;case 2:this.dom.firstChild.style.whiteSpace="pre-wrap",this.dom.firstChild.style.wordBreak="break-all";break;case 3:this.dom.firstChild.style.whiteSpace="pre-wrap",this.dom.firstChild.style.wordWrap="break-word"}"justify"==this.horizontalAlignment&&(this.dom.firstChild.style.whiteSpace="normal")}),this.horizontalAlignmentChanged.connect(this,function(t){this.dom.style.textAlign=t,"justify"==t&&(this.dom.firstChild.style.whiteSpace="normal")}),this.styleChanged.connect(this,function(t){switch(t){case 0:this.dom.firstChild.style.textShadow="none";break;case 1:var e=this.styleColor;this.dom.firstChild.style.textShadow="1px 0 0 "+e+", -1px 0 0 "+e+", 0 1px 0 "+e+", 0 -1px 0 "+e;break;case 2:this.dom.firstChild.style.textShadow="1px 1px 0 "+this.styleColor;break;case 3:this.dom.firstChild.style.textShadow="-1px -1px 0 "+this.styleColor}}),this.styleColorChanged.connect(this,function(t){switch(this.style){case 0:this.dom.firstChild.style.textShadow="none";break;case 1:this.dom.firstChild.style.textShadow="1px 0 0 "+t+", -1px 0 0 "+t+", 0 1px 0 "+t+", 0 -1px 0 "+t;break;case 2:this.dom.firstChild.style.textShadow="1px 1px 0 "+t;break;case 3:this.dom.firstChild.style.textShadow="-1px -1px 0 "+t}}),this.font.family="sans-serif",this.font.pointSize=10,this.wrapMode=this.Text.NoWrap,this.color="black",this.text="",this.textChanged.connect(this,e),this.textChanged.connect(this,n),this.font.boldChanged.connect(this,e),this.font.boldChanged.connect(this,n),this.font.pixelSizeChanged.connect(this,e),this.font.pixelSizeChanged.connect(this,n),this.font.pointSizeChanged.connect(this,e),this.font.pointSizeChanged.connect(this,n),this.font.familyChanged.connect(this,e),this.font.familyChanged.connect(this,n),this.font.letterSpacingChanged.connect(this,e),this.font.wordSpacingChanged.connect(this,n),this.Component.completed.connect(this,e),this.Component.completed.connect(this,n),this.$drawItem=function(t){t.save(),t.font=fontCss(this.font),t.fillStyle=this.color,t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.left,this.top),t.restore()}}}),registerQmlType({module:"QtQuick",name:"TextEdit",versions:/.*/,constructor:function(t){function e(t){n.text!=n.dom.firstChild.value&&(n.text=n.dom.firstChild.value),n.length=n.text.length,n.lineCount=r(n),updateCss(n)}QMLItem.call(this,t);var n=this;createSimpleProperty("bool",this,"activeFocusOnPress"),createSimpleProperty("url",this,"baseUrl"),createSimpleProperty("bool",this,"canPaste"),createSimpleProperty("bool",this,"canRedo"),createSimpleProperty("bool",this,"canUndo"),createSimpleProperty("color",this,"color"),createSimpleProperty("real",this,"contentHeight"),createSimpleProperty("real",this,"contentWidth"),createSimpleProperty("Component",this,"cursorDelegate"),createSimpleProperty("int",this,"cursorPosition"),createSimpleProperty("rectangle",this,"cursorRectangle"),createSimpleProperty("bool",this,"cursorVisible"),createSimpleProperty("enum",this,"effectiveHorizontalAlignment"),createSimpleProperty("enum",this,"horizontalAlignment"),createSimpleProperty("string",this,"hoveredLink"),createSimpleProperty("bool",this,"inputMethodComposing"),createSimpleProperty("enum",this,"inputMethodHints"),createSimpleProperty("int",this,"length"),createSimpleProperty("int",this,"lineCount"),createSimpleProperty("enum",this,"mouseSelectionMode"),createSimpleProperty("bool",this,"persistentSelection"),createSimpleProperty("bool",this,"readOnly"),createSimpleProperty("enum",this,"renderType"),createSimpleProperty("bool",this,"selectByKeyboard"),createSimpleProperty("bool",this,"selectByMouse"),createSimpleProperty("string",this,"selectedText"),createSimpleProperty("color",this,"selectedTextColor"),createSimpleProperty("color",this,"selectionColor"),createSimpleProperty("int",this,"selectionEnd"),createSimpleProperty("int",this,"selectionStart"),createSimpleProperty("string",this,"text"),createSimpleProperty("TextDocument",this,"textDocument"),createSimpleProperty("enum",this,"textFormat"),createSimpleProperty("real",this,"textMargin"),createSimpleProperty("enum",this,"verticalAlignment"),createSimpleProperty("enum",this,"wrapMode");var i=new getConstructor("QtQuick","2.0","Font");this.font=new i(this),this.activeFocusOnPress=!0,this.baseUrl=void 0,this.canPaste=!1,this.canRedo=!1,this.canUndo=!1,this.color="white",this.contentHeight=0,this.contentWidth=0,this.cursorDelegate=void 0,this.cursorPosition=0,this.cursorRectangle=void 0,this.cursorVisible=!0,this.effectiveHorizontalAlignment=void 0,this.horizontalAlignment=void 0,this.hoveredLink=void 0,this.inputMethodComposing=void 0,this.inputMethodHints=void 0,this.length=0,this.lineCount=0,this.mouseSelectionMode=void 0,this.persistentSelection=!1,this.readOnly=!1,this.renderType=void 0,this.selectByKeyboard=!0,this.selectByMouse=!1,this.selectedText=void 0,this.selectedTextColor="yellow",this.selectionColor="pink",this.selectionEnd=0,this.selectionStart=0,this.text="",this.textDocument=void 0,this.textFormat=void 0,this.textMargin=0,this.verticalAlignment=void 0,this.wrapMode=void 0,this.undoStack=[],this.undoStackPosition=-1,this.redoStack=[],this.redoStackPosition=-1,this.dom.innerHTML="<textarea></textarea>",this.dom.firstChild.style.pointerEvents="auto",this.dom.firstChild.style.width="100%",this.dom.firstChild.style.height="100%",this.dom.firstChild.style.margin="0",this.dom.firstChild.disabled=!1,this.linkActivated=Signal([{type:"string",name:"link"}]),this.linkHovered=Signal([{type:"string",name:"link"}]),this.append=function(t){this.text+=t},this.copy=function(){},this.cut=function(){this.text=this.text(0,this.selectionStart)+this.text(this.selectionEnd,this.text.length)},this.deselect=function(){},this.getFormattedText=function(t,e){return this.text=this.text.slice(t,e),text},this.getText=function(t,e){return this.text.slice(t,e)},this.insert=function(t,e){},this.isRightToLeft=function(t,e){},this.linkAt=function(t,e){},this.moveCursorSelection=function(t,e){},this.paste=function(){},this.positionAt=function(t,e){},this.positionToRectangle=function(t){},this.redo=function(){},this.remove=function(t,e){},this.select=function(t,e){},this.selectAll=function(){},this.selectWord=function(){},this.undo=function(){},this.dom.firstChild.oninput=e,this.dom.firstChild.onpropertychanged=e;var r=function(t){return t.text.split(/\n/).length};this.Component.completed.connect(this,function(){this.selectByKeyboard=!this.readOnly,e()}),this.colorChanged.connect(this,function(t){this.dom.firstChild.style.color=t}),this.textChanged.connect(this,function(t){this.dom.firstChild.value=t}),this.$drawItem=function(t){t.save(),t.font=fontCss(this.font),t.fillStyle=this.color,t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.left,this.top),t.restore()}}}),global.TextInput={Normal:0,Password:1,NoEcho:2,PasswordEchoOnEdit:3},registerQmlType({module:"QtQuick",name:"TextInput",versions:/.*/,constructor:function(t){function e(){return"undefined"!=typeof i.validator&&null!=i.validator?i.validator.validate(i.text):!0}function n(t){i.text!=i.dom.firstChild.value&&(i.$canEditReadOnlyProperties=!0,i.text=i.dom.firstChild.value,i.$canEditReadOnlyProperties=!1)}QMLItem.call(this,t);var i=this;this.font=new getConstructor("QtQuick","2.0","Font")(this),this.dom.innerHTML='<input type="text" disabled/>',this.dom.firstChild.style.pointerEvents="auto",this.dom.firstChild.style.margin="0",this.dom.firstChild.style.width="100%",this.setupFocusOnDom(this.dom.firstChild),createSimpleProperty("string",this,"text"),createSimpleProperty("int",this,"maximumLength"),createSimpleProperty("bool",this,"readOnly"),createSimpleProperty("var",this,"validator"),createSimpleProperty("enum",this,"echoMode"),this.accepted=Signal(),this.readOnly=!1,this.maximumLength=-1,this.dom.firstChild.disabled=!1,this.Component.completed.connect(this,function(){this.implicitWidth=this.dom.firstChild.offsetWidth,this.implicitHeight=this.dom.firstChild.offsetHeight}),this.textChanged.connect(this,function(t){this.dom.firstChild.value=t}),this.echoModeChanged.connect(this,function(t){switch(t){case TextInput.Normal:this.dom.firstChild.type="text";break;case TextInput.Password:this.dom.firstChild.type="password"}}.bind(this)),this.maximumLengthChanged.connect(this,function(t){0>t&&(t=null),this.dom.firstChild.maxLength=t}),this.readOnlyChanged.connect(this,function(t){this.dom.firstChild.disabled=t}),this.Keys.pressed.connect(this,function(t){t.key!=Qt.Key_Return&&t.key!=Qt.Key_Enter||!e()||(i.accepted(),t.accepted=!0)}.bind(this)),this.dom.firstChild.oninput=n,this.dom.firstChild.onpropertychanged=n}}),registerQmlType({module:"QtQuick",name:"Timer",versions:/.*/,constructor:function(t){function e(t,e){r.running&&t-i>=r.interval&&(i=t,n())}function n(){r.repeat||(r.$properties.running.val=!1),r.triggered(),r.repeat||r.runningChanged()}QMLBaseObject.call(this,t);var i,r=this;createSimpleProperty("int",this,"interval"),createSimpleProperty("bool",this,"repeat"),createSimpleProperty("bool",this,"running"),createSimpleProperty("bool",this,"triggeredOnStart"),this.interval=1e3,this.repeat=!1,this.running=!1,this.triggeredOnStart=!1,this.triggered=Signal(),engine.$addTicker(e),this.start=function(){this.running||(this.running=!0,i=(new Date).getTime(),this.triggeredOnStart&&n())},this.stop=function(){this.running&&(this.running=!1)},this.restart=function(){this.stop(),this.start()},engine.$registerStart(function(){r.running&&(r.running=!1,r.start())}),engine.$registerStop(function(){r.stop()})}}),registerQmlType({module:"QtQuick",name:"Transition",versions:/.*/,constructor:function(t){QMLBaseObject.call(this,t),createSimpleProperty("list",this,"animations"),this.$defaultProperty="animations",createSimpleProperty("string",this,"from"),createSimpleProperty("string",this,"to"),createSimpleProperty("bool",this,"reversible"),this.animations=[],this.$item=this.$parent,this.from="*",this.to="*",this.$start=function(t){for(var e=0;e<this.animations.length;e++){var n=this.animations[e];n.$actions=[];for(var i in t){var r=t[i];0!==n.$targets.length&&-1===n.$targets.indexOf(r.target)||0!==n.$props.length&&-1===n.$props.indexOf(r.property)||n.$actions.push(r)}n.start()}},this.$stop=function(){for(var t=0;t<this.animations.length;t++)this.animations[t].stop()}}}),registerQmlType({module:"QtQuick",name:"Translate",versions:/.*/,constructor:function(t){QMLBaseObject.call(this,t),createSimpleProperty("real",this,"x"),createSimpleProperty("real",this,"y"),this.xChanged.connect(this.$parent,this.$parent.$updateTransform),this.yChanged.connect(this.$parent,this.$parent.$updateTransform),this.x=0,this.y=0}}),registerQmlType({module:"QtQuick.Controls",name:"CheckBox",versions:/.*/,constructor:function(t){this.dom=document.createElement("label"),QMLItem.call(this,t);{var e=this;new getConstructor("QtQuick","2.0","Font")}this.font=new getConstructor("QtQuick","2.0","Font")(this),this.dom.innerHTML='<input type="checkbox"><span></span>',this.dom.style.pointerEvents="auto",this.dom.firstChild.style.verticalAlign="text-bottom",createSimpleProperty("string",this,"text"),createSimpleProperty("bool",this,"checked"),createSimpleProperty("color",this,"color"),this.Component.completed.connect(this,function(){this.implicitHeight=this.dom.offsetHeight,this.implicitWidth=this.dom.offsetWidth}),this.textChanged.connect(this,function(t){this.dom.children[1].innerHTML=t,this.implicitHeight=this.dom.offsetHeight,this.implicitWidth=this.dom.offsetWidth}),this.colorChanged.connect(this,function(t){this.dom.children[1].style.color=t}),this.dom.firstChild.onchange=function(){e.checked=this.checked}}}),registerQmlType({module:"QtQuick.Controls",name:"TextArea",versions:/.*/,constructor:function(t){function e(t){n.text!=n.dom.firstChild.value&&(n.text=n.dom.firstChild.value)}QMLItem.call(this,t);var n=this,i=new getConstructor("QtQuick","2.0","Font");this.font=new i(this),this.dom.innerHTML="<textarea></textarea>",this.dom.firstChild.style.pointerEvents="auto",this.dom.firstChild.style.width="100%",this.dom.firstChild.style.height="100%",this.dom.firstChild.style.margin="0",createSimpleProperty("string",this,"text",""),this.Component.completed.connect(this,function(){this.implicitWidth=this.dom.firstChild.offsetWidth,this.implicitHeight=this.dom.firstChild.offsetHeight}),this.textChanged.connect(this,function(t){this.dom.firstChild.value=t}),this.dom.firstChild.oninput=e,this.dom.firstChild.onpropertychanged=e}}),registerQmlType({module:"QmlWeb",name:"RestModel",versions:/.*/,constructor:function(t){function e(t){var e=n();o({method:t,mimeType:a.queryMimeType,body:e,success:function(t){s(t),a.saved()}})}function n(){for(var t,e={},n=0;n<a.attributes.length;++n)e[a.attributes[n]]=a.$properties[a.attributes[n]].get();return console.log(e),"application/json"==a.queryMimeType||"text/json"==a.queryMimeType?t=JSON.stringify(e):"application/x-www-urlencoded"==a.queryMimeType&&(t=r(e)),t}function i(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})}function r(t,e){var n="";for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];""!=n&&(n+="&"),"undefined"!=typeof e&&(o=e+"["+o+"]"),n+="object"==typeof s?r(s,o):i(o)+"="+i(s)}return n}function o(t){var e=new XMLHttpRequest;e.overrideMimeType(a.mimeType),e.onreadystatechange=function(){e.readyState==XMLHttpRequest.DONE&&(200==e.status?t.success(e):t.failure(e),a.runningRequests-=1,a.runningRequests<=0&&(a.isLoading=!1))},e.open(t.method,a.url,!0),"undefined"!=typeof t.body?(e.setRequestHeader("Content-Type",a.queryMimeType),e.send(t.body)):e.send(null),a.runningRequests+=1,a.isLoading=!0}function s(t){var e;("application/json"==a.mimeType||"text/json"==a.mimeType)&&(e=JSON.parse(t.responseText)),u(e)}function u(t){for(var e in t)t.hasOwnProperty(e)&&a.$hasProperty(e)&&a.$properties[e].set(t[e])}QMLItem.call(this,t);var a=this,c=this.getAttributes();createSimpleProperty("string",this,"url"),createSimpleProperty("bool",this,"isLoading"),createSimpleProperty("string",this,"mimeType"),createSimpleProperty("string",this,"queryMimeType"),this.mimeType="application/json",this.queryMimeType="application/x-www-urlencoded",this.isLoading=!1,this.attributes=c,this.fetched=Signal(),this.saved=Signal(),this.runningRequests=0,this.fetch=function(){o({method:"GET",mimeType:a.mimetype,success:function(t){s(t),a.fetched()}})},this.create=function(){e("POST")},this.save=function(){e("PUT")},this.remove=function(){o({method:"DELETE",success:function(t){a.destroy()}})},this.$hasProperty=function(t){return"undefined"!=typeof a.$properties[t]}}}),registerQmlType({module:"QtQuick",name:"Settings",versions:/.*/,constructor:function(t){if(QMLItem.call(this,t),createSimpleProperty("string",this,"category"),"undefined"!=typeof window.localStorage){var e,n=function(t){return this.category+"/"+t}.bind(this),i=function(){for(var t=0;t<e.length;++t)this[e[t]]=localStorage.getItem(n(e[t]))}.bind(this),r=function(){for(var t=0;t<e.length;++t){var i=e[t],r=i+"Changed",o=this;"alias"==this.$properties[i].type&&(o=this.$context[this.$properties[i].val.objectName],r=this.$properties[i].val.propertyName+"Changed"),o[r].connect(this,function(){localStorage.setItem(n(this.attrName),this.self[this.attrName])}.bind({self:this,attrName:i}))}}.bind(this);this.Component.completed.connect(this,function(){e=this.getAttributes(),i(),r()}.bind(this))}}})}("undefined"!=typeof global?global:window);